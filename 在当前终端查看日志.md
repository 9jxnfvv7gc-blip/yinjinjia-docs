# 在当前终端查看日志

## 🔍 查看调试信息

### 方法1：先访问API，然后查看日志

在Workbench终端执行：

```bash
# 先访问API
curl http://localhost:8081/api/list/原创视频

# 然后查看最近的日志（包含调试信息）
journalctl -u video-server -n 50 --no-pager
```

**应该看到调试信息**：
- `API列表请求: category=原创视频, category_path=/root/videos/原创视频`
- `VIDEO_ROOT: /root/videos`
- `路径存在: True` 或 `路径存在: False`
- `目录存在，开始扫描文件...`（如果路径存在）
- `文件: 1.mp4, 扩展名: .mp4, 在列表中: True`
- `找到 X 个文件`

---

### 方法2：查看所有日志（包含调试信息）

在Workbench终端执行：

```bash
# 查看所有日志，过滤调试信息
journalctl -u video-server --no-pager | grep -E "API列表请求|VIDEO_ROOT|路径存在|目录存在|文件:|找到"
```

---

### 方法3：实时查看日志（如果可能）

在Workbench终端执行：

```bash
# 实时查看日志（按Ctrl+C退出）
journalctl -u video-server -f
```

然后**在同一个终端**按 `Ctrl+C` 退出，再访问API。

---

## 🔧 可能的问题

### 问题1：路径不存在

**检查**：日志中是否显示 `路径存在: False`

**解决方案**：检查 `/root/videos/原创视频` 目录是否存在

```bash
ls -la /root/videos/原创视频/
```

---

### 问题2：文件扩展名不匹配

**检查**：日志中是否显示 `在列表中: False`

**解决方案**：检查文件扩展名是否在支持列表中

---

### 问题3：文件扫描问题

**检查**：日志中是否显示 `找到 0 个文件`

**解决方案**：检查文件是否真的存在

---

## 🎯 现在可以执行

1. **访问API**（`curl http://localhost:8081/api/list/原创视频`）
2. **查看最近的日志**（`journalctl -u video-server -n 50 --no-pager`）
3. **或者查看过滤后的日志**（`journalctl -u video-server --no-pager | grep -E "API列表请求|VIDEO_ROOT|路径存在|目录存在|文件:|找到"`）
4. **告诉我日志中显示了什么**

---

**先访问API，然后查看日志，告诉我调试信息！** 🔍

