# 📋 测试清单：首次登录弹窗和更新后的文案

## ✅ 测试准备

### 清除同意状态（如果应用已同意过）

**方法1：使用应用内测试功能（推荐）**
1. 打开应用
2. 点击右上角设置图标
3. 找到"清除同意状态（测试）"选项
4. 点击并确认清除
5. 完全退出应用（双击 Home 键，上滑关闭应用）
6. 重新打开应用

**方法2：卸载并重新安装**
- 在设备上长按应用图标 → 删除应用
- 重新运行 `flutter run -d Dianhua`

---

## 🧪 测试项目

### 1️⃣ 首次登录弹窗测试

#### 测试步骤：
1. **清除同意状态**（使用上述方法）
2. **重新启动应用**
3. **观察是否显示弹窗**

#### 预期结果：
- ✅ 应用启动后自动显示弹窗
- ✅ 弹窗标题：**"欢迎使用影音家"**
- ✅ 弹窗内容包含：
  - 说明文字："为了更好地保障您的合法权益..."
  - **《用户协议》链接**（蓝色，可点击）
  - **《隐私政策》链接**（蓝色，可点击）
  - 提示文字："如果您同意以上内容..."
- ✅ 底部有两个按钮：
  - **"退出应用"**（左侧，灰色）
  - **"同意并继续"**（右侧，蓝色高亮）

#### 测试操作：
- [ ] 点击《用户协议》链接 → 应该打开用户协议页面
- [ ] 点击《隐私政策》链接 → 应该打开隐私政策页面
- [ ] 点击"退出应用" → 应用应该退出
- [ ] 点击"同意并继续" → 应该进入主页，不再显示弹窗

---

### 2️⃣ 用户协议文案测试

#### 测试步骤：
1. 打开应用
2. 点击设置 → **用户协议**

#### 检查内容：

**标题和日期：**
- [ ] 标题：**《影音家用户协议》**
- [ ] 生效日期：**2025年11月27日**

**一、本服务的功能：**
- [ ] 主体名称：**智慧令爱**
- [ ] 功能描述正确

**二、责任范围与限制：**
- [ ] **重点检查标点符号**：
  - 应该显示：`可能出现中断、延迟、数据丢失等；对以下原因造成的损失`
  - ✅ 注意：**"等"后面是分号"；"**，不是句号"。"

**三、隐私保护：**
- [ ] 明确说明：不收集设备信息、使用数据、日志信息
- [ ] 强调：所有数据仅在本地存储

**四、其他：**
- [ ] 签订地：中华人民共和国
- [ ] 联系邮箱：zhihuilingai4@outlook.com

---

### 3️⃣ 隐私政策文案测试

#### 测试步骤：
1. 打开应用
2. 点击设置 → **隐私政策**

#### 检查内容：

**标题和日期：**
- [ ] 标题：**《影音家隐私政策》**
- [ ] 生效日期：**2025年11月27日**

**一、信息收集：**
- [ ] 明确说明：不收集设备信息、使用数据、日志信息
- [ ] 强调：所有数据仅在本地存储，不上传任何信息

**二、权限使用说明（新增）：**
- [ ] **相册访问权限**：
  - 用途：用于"上传内容"功能
  - 说明：仅在用户主动选择文件时使用
  - 强调：不会自动访问或扫描相册内容
- [ ] **保存到相册权限**：
  - 用途：用于"上传内容"功能
  - 说明：仅在用户主动操作时使用
- [ ] **重要说明**：
  - 所有权限均为用户主动触发
  - 权限仅用于本地功能，不会收集或上传任何数据
  - 用户可随时在系统设置中管理或撤回权限

**联系我们：**
- [ ] 联系邮箱：zhihuilingai4@outlook.com

---

### 4️⃣ 协议链接功能测试

#### 在首次登录弹窗中：
- [ ] 点击《用户协议》链接 → 应该打开用户协议页面，显示完整内容
- [ ] 点击《隐私政策》链接 → 应该打开隐私政策页面，显示完整内容
- [ ] 可以正常滚动查看内容
- [ ] 可以返回弹窗

#### 在设置中：
- [ ] 点击"用户协议" → 应该打开用户协议页面
- [ ] 点击"隐私政策" → 应该打开隐私政策页面
- [ ] 内容显示正确，格式良好

---

## 📝 测试结果记录

### 首次登录弹窗：
- [ ] 正常显示
- [ ] 链接可点击
- [ ] 按钮功能正常

### 用户协议：
- [ ] 标点符号正确（分号）
- [ ] 内容完整
- [ ] 格式正确

### 隐私政策：
- [ ] 包含权限使用说明
- [ ] 内容完整
- [ ] 格式正确

### 协议链接：
- [ ] 首次登录弹窗中的链接正常
- [ ] 设置中的链接正常

---

## 🐛 如果发现问题

### 首次登录弹窗不显示：
1. 确认已清除同意状态
2. 确认应用完全重启（不是热重载）
3. 检查控制台是否有错误信息

### 文案显示不正确：
1. 确认应用已重新编译（不是热重载）
2. 检查 `lib/legal_content.dart` 文件内容
3. 检查 `lib/legal_view_page.dart` 渲染逻辑

### 链接无法打开：
1. 检查 `lib/legal_dialog.dart` 中的链接实现
2. 检查 `lib/legal_view_page.dart` 是否正确导入

---

**测试完成后，请记录所有测试结果！** ✅
