# 🔧 重启后问题解决方案

## ⚠️ 遇到的问题

1. **应用闪退，打不开**
2. **Xcode 显示连接手机失败**

## 🔍 问题原因

### 问题1：应用闪退
- 重启手机后，应用可能未正确安装
- 可能是签名或权限问题
- 需要重新安装应用

### 问题2：Xcode 连接失败
- 重启手机后，设备需要重新信任电脑
- USB 连接可能需要重新建立
- Xcode 需要重新识别设备

## ✅ 解决步骤

### 步骤1：重新连接设备

1. **确保设备已解锁**
2. **在设备上确认信任此电脑**：
   - 如果弹出 "要信任此电脑吗？" → 点击 "信任"
   - 输入设备密码确认
3. **检查 USB 连接**：
   - 确认 USB 线连接正常
   - 尝试重新插拔 USB 线

### 步骤2：检查设备连接

在终端运行：
```bash
flutter devices
```

应该看到您的设备（Dianhua）在列表中。

### 步骤3：重新安装应用

```bash
cd "/Volumes/Expansion/FlutterProjects/桌面影音播放器_安装包_20251121_165905"

# 清理构建缓存
flutter clean

# 重新获取依赖
flutter pub get

# 重新运行（这会重新安装应用）
flutter run -d Dianhua
```

### 步骤4：如果仍然闪退

如果应用安装后仍然闪退，尝试：

1. **手动删除应用**：
   - 在设备上长按应用图标
   - 点击删除
   - 确认删除

2. **重新安装**：
   ```bash
   flutter run -d Dianhua
   ```

3. **检查设备日志**：
   - 在 Xcode 中：Window > Devices and Simulators
   - 选择设备
   - 查看应用崩溃日志

## 🔍 设备端检查清单

- [ ] 设备已解锁
- [ ] 设备已信任此电脑（设置 → 通用 → VPN与设备管理）
- [ ] USB 连接正常
- [ ] 设备存储空间充足
- [ ] 开发者模式已启用（iOS 16+）

## 💡 预防措施

1. **重启前保存工作**：重启设备前，确保应用已正确安装
2. **保持连接稳定**：使用原装 USB 线
3. **定期清理**：定期清理构建缓存

## 🆘 如果仍然失败

### 检查应用崩溃日志

在 Xcode 中：
1. Window > Devices and Simulators
2. 选择设备
3. 选择应用
4. 查看崩溃日志

### 检查设备设置

1. **设置 → 通用 → VPN与设备管理**：
   - 确认开发者应用已信任
   - 如果有问题，删除并重新信任

2. **设置 → 隐私与安全性 → 开发者模式**（iOS 16+）：
   - 确认开发者模式已启用
   - 如果禁用，启用后需要重启设备

### 完全重新安装

如果以上都不行，尝试完全重新安装：

```bash
cd "/Volumes/Expansion/FlutterProjects/桌面影音播放器_安装包_20251121_165905"

# 1. 清理所有缓存
flutter clean
rm -rf ios/Pods
rm -rf ios/.symlinks
rm -rf ios/Flutter/Flutter.framework
rm -rf ios/Flutter/Flutter.podspec

# 2. 重新安装 Pods
cd ios
pod deintegrate
pod install
cd ..

# 3. 重新获取依赖
flutter pub get

# 4. 重新运行
flutter run -d Dianhua
```

## 📝 常见错误

### 错误1：设备未信任
**解决**：在设备上确认信任此电脑

### 错误2：应用签名失败
**解决**：检查 Xcode 签名设置，确保 Team 正确

### 错误3：存储空间不足
**解决**：清理设备存储空间

### 错误4：开发者模式未启用
**解决**：在设备设置中启用开发者模式


