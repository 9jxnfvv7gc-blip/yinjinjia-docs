# 如何查看视频播放日志

## 📱 步骤1：连接手机

1. **用USB线连接手机到电脑**
2. **在手机上允许USB调试**（如果提示）
3. **检查连接**：
   ```bash
   adb devices
   ```
   应该看到类似：
   ```
   List of devices attached
   xxxxxx    device
   ```

---

## 📋 步骤2：查看日志

### 方法1：使用脚本（推荐）

```bash
cd "/Volumes/Expansion/FlutterProjects/桌面影音播放器_安装包_20251121_165905"
./查看视频日志.sh
```

脚本会自动：
- 检查设备连接
- 清空旧日志
- 实时显示视频相关日志

**操作**：
1. 运行脚本
2. 在手机上播放视频
3. 查看终端输出的日志
4. 按 `Ctrl+C` 停止

---

### 方法2：手动命令

```bash
# 1. 清空旧日志
adb logcat -c

# 2. 查看日志（播放视频时）
adb logcat | grep -iE "flutter|video|error|exception|failed"
```

---

## 🔍 需要关注的日志信息

### 关键日志关键词：
- `视频播放器初始化`
- `使用网络URL播放`
- `视频初始化成功` / `视频初始化失败`
- `URL测试结果`
- `播放器错误`
- `Source error`
- `PlatformException`

### 示例日志：
```
I flutter : 视频播放器初始化，路径: http://47.243.177.166:8081/video/...
I flutter : 使用网络URL播放: http://47.243.177.166:8081/video/...
I flutter : URL测试结果: 200
I flutter : 播放器错误: Video player had error T.m: Source error
```

---

## 📤 如何发送日志

1. **复制日志**：选中终端中的日志，复制
2. **发送给我**：把日志内容发给我，我会分析

或者：

1. **保存到文件**：
   ```bash
   adb logcat | grep -iE "flutter|video|error" > video_log.txt
   ```
2. **发送文件**：把 `video_log.txt` 文件发给我

---

## ⚠️ 常见问题

### 问题1：`adb: command not found`
**解决**：需要安装Android SDK Platform Tools
- Mac: `brew install android-platform-tools`
- 或下载：https://developer.android.com/studio/releases/platform-tools

### 问题2：`no devices/emulators found`
**解决**：
- 检查USB连接
- 检查USB调试是否开启
- 尝试重新连接USB线
- 运行 `adb kill-server && adb start-server`

### 问题3：日志太多，找不到关键信息
**解决**：使用更精确的过滤
```bash
adb logcat | grep -iE "video.*error|播放器.*失败|Source error"
```

---

## 🎯 快速检查清单

- [ ] 手机已通过USB连接
- [ ] USB调试已开启
- [ ] `adb devices` 显示设备
- [ ] 已运行日志查看命令
- [ ] 已在手机上播放视频
- [ ] 已复制相关日志

---

**运行脚本后，在手机上播放视频，然后把日志发给我！** 📱










