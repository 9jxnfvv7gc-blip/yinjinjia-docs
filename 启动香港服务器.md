# 🚀 启动香港服务器

## 📋 当前状态

- ✅ 应用配置已指向香港服务器：`http://47.243.177.166:8081`
- ❌ 香港服务器无法访问，需要启动服务器

## 🔧 启动香港服务器

### 步骤1：连接到香港服务器

在本地 Mac 终端执行：

```bash
ssh root@47.243.177.166
# 输入密码
```

### 步骤2：在服务器上启动 video_server.py

连接成功后，在服务器终端执行：

```bash
# 检查 video_server.py 是否存在
ls -la /root/app/video_server.py

# 如果不存在，需要先上传（在本地 Mac 执行）：
# cd "/Volumes/Expansion/FlutterProjects/桌面影音播放器_安装包_20251121_165905"
# scp video_server.py root@47.243.177.166:/root/app/

# 设置视频目录
export VIDEO_ROOT="/root/videos"

# 进入脚本目录
cd /root/app

# 启动服务器
nohup python3 video_server.py > /root/server.log 2>&1 &

# 等待2秒
sleep 2

# 检查进程
ps aux | grep video_server.py

# 查看日志
tail -30 /root/server.log

# 测试 API
curl http://localhost:8081/api/categories
curl http://localhost:8081/api/list/原创视频
```

### 步骤3：开放防火墙（如果需要）

```bash
sudo ufw allow 8081/tcp
sudo ufw reload
```

## ✅ 验证

在本地 Mac 测试：

```bash
# 测试分类列表
curl http://47.243.177.166:8081/api/categories

# 测试视频列表
curl http://47.243.177.166:8081/api/list/原创视频
```

如果返回 JSON 数据，说明服务器启动成功！

## 📱 运行应用

服务器启动后，在本地 Mac 终端执行：

```bash
cd "/Volumes/Expansion/FlutterProjects/桌面影音播放器_安装包_20251121_165905"
flutter run -d Dianhua
```

然后在 iPhone 上刷新应用，应该能看到视频了。

## 🎯 上架准备

使用香港服务器的优势：
- ✅ 可以上架到香港应用商店
- ✅ 服务器在香港，访问速度更快
- ✅ 符合香港应用商店要求


