# 停止服务器并后台运行

## 🛑 步骤1：停止当前运行的服务器

如果服务器正在运行（显示"按 Ctrl+C 停止服务器"），按 `Ctrl+C` 停止。

---

## 🚀 步骤2：后台运行服务器

在Workbench终端执行：

```bash
# 后台运行服务器，输出到日志文件
cd /root/video_server
python3 video_server.py > /tmp/video_server.log 2>&1 &

# 查看进程（确认服务器已启动）
ps aux | grep video_server.py

# 等待几秒让服务器启动
sleep 2

# 访问API
curl http://localhost:8081/api/list/原创视频

# 查看服务器输出（调试信息）
cat /tmp/video_server.log
```

---

## 📋 完整操作流程

### 1. 停止当前服务器
- 按 `Ctrl+C`（如果服务器正在运行）

### 2. 后台运行服务器
```bash
cd /root/video_server
python3 video_server.py > /tmp/video_server.log 2>&1 &
```

### 3. 等待服务器启动
```bash
sleep 2
```

### 4. 访问API
```bash
curl http://localhost:8081/api/list/原创视频
```

### 5. 查看调试信息
```bash
cat /tmp/video_server.log
```

### 6. 停止后台服务器（查看完调试信息后）
```bash
pkill -f video_server.py
```

---

## 🎯 现在可以执行

1. **按 `Ctrl+C` 停止当前服务器**（如果正在运行）
2. **执行后台运行命令**（上面的命令）
3. **访问API并查看调试信息**

---

**先按 `Ctrl+C` 停止服务器，然后执行后台运行命令！** 🚀

