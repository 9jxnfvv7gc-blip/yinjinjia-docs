# 排查服务器问题

## ❌ 问题

API返回空数组`[]`，可能原因：
1. 服务器没有正确启动
2. 文件没有正确上传（还是旧版本）
3. 服务器进程崩溃

---

## 🔍 排查步骤

### 在Workbench终端执行：

```bash
# 1. 检查服务器进程
ps aux | grep video_server.py

# 2. 检查服务器日志
cat /tmp/video_server.log

# 3. 检查文件是否已更新（查看修改时间）
ls -lh /root/video_server/video_server.py

# 4. 检查关键代码行（确认已修改）
grep -n "url_prefix" /root/video_server/video_server.py | head -5
grep -n "47.243.177.166" /root/video_server/video_server.py | head -5

# 5. 手动测试服务器启动
cd /root/video_server
python3 video_server.py
# 按Ctrl+C停止，查看是否有错误

# 6. 如果服务器启动正常，后台运行并测试
pkill -f video_server.py
python3 video_server.py > /tmp/video_server.log 2>&1 &
sleep 3
curl "http://localhost:8081/api/list/$(python3 -c "from urllib.parse import quote; print(quote('原创视频'))")"
```

---

## 📋 执行后

把以下内容发给我：
1. **服务器进程状态**（ps aux的输出）
2. **服务器日志**（cat /tmp/video_server.log的输出）
3. **文件修改时间**（ls -lh的输出）
4. **grep的结果**（确认代码已修改）
5. **手动启动的错误信息**（如果有）

---

**先执行上面的命令，把结果发给我！** 🔍

