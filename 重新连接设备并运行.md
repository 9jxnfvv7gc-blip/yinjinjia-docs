# 🔌 重新连接设备并运行

## ✅ Java 17已设置成功！

从终端可以看到：
```
openjdk version "17.0.17"
```

**Java版本已正确！**

---

## ⚠️ 设备已断开

### 当前状态：
- ✅ Java 17已设置
- ❌ 设备未连接（`adb devices`显示空白）

---

## 🚀 现在请这样做

### 步骤1：重新连接设备

1. **检查USB线连接**
   - 确保USB线已插入
   - 尝试不同的USB端口

2. **在手机上**：
   - 选择"传输文件"或"MTP"模式
   - 确保"USB调试"已启用

3. **检查连接**：
   ```bash
   adb devices
   ```
   应该看到设备

---

### 步骤2：如果设备未显示

#### 解决方法1：重新授权

```bash
adb kill-server
adb start-server
adb devices
```

#### 解决方法2：检查手机

1. **断开USB线**
2. **等待5秒**
3. **重新连接USB线**
4. **选择"传输文件"模式**
5. **如果弹出"允许USB调试"，点击"确定"**

---

### 步骤3：设备连接后运行应用

```bash
# 确保Java 17已设置（如果新开终端）
export JAVA_HOME=/opt/homebrew/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home
export PATH=$JAVA_HOME/bin:$PATH

# 运行应用
cd /Volumes/Expansion/FlutterProjects/桌面影音播放器_安装包_20251121_165905
flutter run -d DAR8NRZT8PT4C66P
```

---

## 📋 完整步骤

### 1. 重新连接设备

- 检查USB线
- 选择"传输文件"模式
- 允许USB调试

### 2. 检查连接

```bash
adb devices
```

应该看到：
```
List of devices attached
DAR8NRZT8PT4C66P    device
```

### 3. 运行应用

```bash
# 确保Java 17已设置
export JAVA_HOME=/opt/homebrew/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home
export PATH=$JAVA_HOME/bin:$PATH

# 运行应用
cd /Volumes/Expansion/FlutterProjects/桌面影音播放器_安装包_20251121_165905
flutter run -d DAR8NRZT8PT4C66P
```

---

## ⚠️ 重要提示

### Java 17设置：

**每次新开终端都需要设置**：
```bash
export JAVA_HOME=/opt/homebrew/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home
export PATH=$JAVA_HOME/bin:$PATH
```

**永久设置（可选）**：
```bash
echo 'export JAVA_HOME=/opt/homebrew/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home' >> ~/.zshrc
echo 'export PATH=$JAVA_HOME/bin:$PATH' >> ~/.zshrc
source ~/.zshrc
```

---

## 🎯 现在请这样做

### 1. 重新连接设备

- 检查USB线
- 在手机上选择"传输文件"模式
- 允许USB调试

### 2. 检查连接

```bash
adb devices
```

### 3. 设备连接后运行

```bash
export JAVA_HOME=/opt/homebrew/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home
export PATH=$JAVA_HOME/bin:$PATH
cd /Volumes/Expansion/FlutterProjects/桌面影音播放器_安装包_20251121_165905
flutter run -d DAR8NRZT8PT4C66P
```

---

## ❓ 如果设备还是连接不上

告诉我：
1. ✅ USB线是否连接？
2. ✅ 手机上是否选择了"传输文件"模式？
3. ✅ `adb devices`显示什么？
4. ✅ 有什么错误信息？

现在请重新连接设备，然后告诉我结果！

