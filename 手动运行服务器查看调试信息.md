# 手动运行服务器查看调试信息

## 🔍 问题

- ✅ 文件存在（9个mp4文件）
- ✅ 调试信息已添加
- ❌ API返回空数组
- ❌ systemd日志中没有看到print输出

**原因**：systemd默认不捕获print输出到stdout，需要手动运行服务器查看。

---

## 🚀 手动运行服务器

### 步骤1：停止systemd服务

在Workbench终端执行：

```bash
# 停止服务器
systemctl stop video-server
```

---

### 步骤2：手动运行服务器

在Workbench终端执行：

```bash
cd /root/video_server
python3 video_server.py
```

**应该看到**：
```
启动视频服务器...
端口: 8081
视频根目录: /root/videos
```

**保持这个终端运行**。

---

### 步骤3：在另一个终端访问API

**打开新的Workbench终端窗口**，执行：

```bash
curl http://localhost:8081/api/list/原创视频
```

**在运行服务器的终端中，应该看到调试信息**：
- `API列表请求: category=原创视频, category_path=/root/videos/原创视频`
- `VIDEO_ROOT: /root/videos`
- `路径存在: True`
- `目录存在，开始扫描文件...`
- `文件: 1.mp4, 扩展名: .mp4, 在列表中: True`
- `找到 X 个文件`

---

### 步骤4：查看API返回

在访问API的终端中，应该看到文件列表（不再是空数组）。

---

### 步骤5：停止手动服务器

在运行服务器的终端中，按 `Ctrl+C` 停止。

---

### 步骤6：重新启动systemd服务

```bash
systemctl start video-server
systemctl status video-server
```

---

## 🎯 现在可以执行

1. **停止systemd服务**（`systemctl stop video-server`）
2. **手动运行服务器**（`cd /root/video_server && python3 video_server.py`）
3. **在另一个终端访问API**（`curl http://localhost:8081/api/list/原创视频`）
4. **查看运行服务器的终端中的调试信息**
5. **告诉我看到了什么**

---

**先手动运行服务器，查看调试信息！** 🔍

