# 使用 Flutter 中国镜像源

## 问题解决

由于无法访问 Google 服务器，已配置 Flutter 中国镜像源来下载 Flutter 引擎和依赖。

## 环境变量设置

在运行 Flutter 命令前，需要设置以下环境变量：

```bash
export PUB_HOSTED_URL=https://pub.flutter-io.cn
export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn
```

## 永久设置（推荐）

### 方法 1：添加到 ~/.zshrc（macOS 默认 shell）

```bash
echo 'export PUB_HOSTED_URL=https://pub.flutter-io.cn' >> ~/.zshrc
echo 'export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn' >> ~/.zshrc
source ~/.zshrc
```

### 方法 2：添加到 ~/.bash_profile（如果使用 bash）

```bash
echo 'export PUB_HOSTED_URL=https://pub.flutter-io.cn' >> ~/.bash_profile
echo 'export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn' >> ~/.bash_profile
source ~/.bash_profile
```

## 运行应用

设置环境变量后，运行：

```bash
cd /Volumes/Expansion/FlutterProjects/桌面影音播放器_安装包_20251121_165905
export JAVA_HOME=/opt/homebrew/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home
export PATH=$JAVA_HOME/bin:$PATH
flutter run -d DAR8NRZT8PT4C66P
```

## 注意事项

- 这些镜像源是 Flutter 官方为中国开发者提供的临时镜像
- 如果镜像源不可用，可能需要使用 VPN/代理
- 每次新开终端都需要设置环境变量（除非已永久设置）

