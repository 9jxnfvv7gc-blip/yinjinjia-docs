# ğŸ‡¨ğŸ‡³ åˆ›å»ºå›½å†…ç‰ˆåº”ç”¨æŒ‡å—

## ğŸ“‹ æ–¹æ¡ˆç¡®è®¤

### åº”ç”¨1ï¼šæµ·å¤–ç‰ˆï¼ˆç°æœ‰é¡¹ç›®ï¼Œä¸æ”¹åŠ¨ï¼‰
- âœ… ä¿æŒç°æœ‰é¡¹ç›®ä¸å˜
- âœ… ä½¿ç”¨é¦™æ¸¯æœåŠ¡å™¨ï¼š`47.243.177.166:8081`
- âœ… ä¸Šæ¶åˆ°ï¼šç¾å›½ã€é¦™æ¸¯ã€å°æ¹¾ç­‰åœ°åŒº
- âœ… ä¸éœ€è¦å¤‡æ¡ˆ
- âœ… Bundle IDï¼š`com.yourcompany.videomusicapp`

### åº”ç”¨2ï¼šå›½å†…ç‰ˆï¼ˆæ–°å»ºé¡¹ç›®ï¼‰
- âœ… å¤åˆ¶ç°æœ‰é¡¹ç›®åˆ›å»ºæ–°é¡¹ç›®
- âœ… ä½¿ç”¨åŒ—äº¬æœåŠ¡å™¨ï¼š`æ–°æœåŠ¡å™¨IP:8081`
- âœ… ä¸Šæ¶åˆ°ï¼šä¸­å›½å¤§é™†
- âœ… éœ€è¦å¤‡æ¡ˆ
- âœ… Bundle IDï¼š`com.yourcompany.videomusicapp.cn`

---

## ğŸš€ åˆ›å»ºå›½å†…ç‰ˆé¡¹ç›®æ­¥éª¤

### æ­¥éª¤1ï¼šå¤åˆ¶é¡¹ç›®

åœ¨æœ¬åœ° Mac æ‰§è¡Œï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Volumes/Expansion/FlutterProjects

# å¤åˆ¶æ•´ä¸ªé¡¹ç›®
cp -r "æ¡Œé¢å½±éŸ³æ’­æ”¾å™¨_å®‰è£…åŒ…_20251121_165905" "æ¡Œé¢å½±éŸ³æ’­æ”¾å™¨_å›½å†…ç‰ˆ_20251127"

# è¿›å…¥æ–°é¡¹ç›®ç›®å½•
cd "æ¡Œé¢å½±éŸ³æ’­æ”¾å™¨_å›½å†…ç‰ˆ_20251127"
```

---

### æ­¥éª¤2ï¼šä¿®æ”¹é¡¹ç›®é…ç½®

#### 2.1 ä¿®æ”¹ pubspec.yaml

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
# ä¿®æ”¹åº”ç”¨åç§°
sed -i 's/name: video_music_app/name: video_music_app_cn/g' pubspec.yaml
```

æˆ–è€…æ‰‹åŠ¨ç¼–è¾‘ `pubspec.yaml`ï¼š
```yaml
name: video_music_app_cn  # æ”¹ä¸ºå›½å†…ç‰ˆåç§°
```

#### 2.2 ä¿®æ”¹ Android Bundle ID

ç¼–è¾‘æ–‡ä»¶ï¼š`android/app/build.gradle`

```gradle
android {
    defaultConfig {
        applicationId "com.yourcompany.videomusicapp.cn"  // æ·»åŠ  .cn
        // ... å…¶ä»–é…ç½®
    }
}
```

#### 2.3 ä¿®æ”¹ iOS Bundle ID

ç¼–è¾‘æ–‡ä»¶ï¼š`ios/Runner.xcodeproj/project.pbxproj`

æŸ¥æ‰¾å¹¶æ›¿æ¢ï¼š
```
PRODUCT_BUNDLE_IDENTIFIER = com.yourcompany.videomusicapp;
```
æ”¹ä¸ºï¼š
```
PRODUCT_BUNDLE_IDENTIFIER = com.yourcompany.videomusicapp.cn;
```

æˆ–è€…ä½¿ç”¨ Xcodeï¼š
1. æ‰“å¼€ `ios/Runner.xcworkspace`
2. é€‰æ‹© Runner é¡¹ç›®
3. åœ¨ General æ ‡ç­¾ä¸­æ‰¾åˆ° Bundle Identifier
4. æ”¹ä¸ºï¼š`com.yourcompany.videomusicapp.cn`

#### 2.4 ä¿®æ”¹æœåŠ¡å™¨é…ç½®

ç¼–è¾‘æ–‡ä»¶ï¼š`lib/config.dart`

```dart
class AppConfig {
  // ä¿®æ”¹ä¸ºåŒ—äº¬æœåŠ¡å™¨åœ°å€
  static const String productionApiUrl = 'http://æ–°åŒ—äº¬æœåŠ¡å™¨IP:8081';
  
  // å…¶ä»–é…ç½®ä¿æŒä¸å˜
}
```

**æ³¨æ„**ï¼šç­‰åŒ—äº¬æœåŠ¡å™¨åˆ›å»ºå¹¶é…ç½®å¥½åå†ä¿®æ”¹è¿™ä¸ª IPã€‚

---

### æ­¥éª¤3ï¼šä¿®æ”¹åº”ç”¨åç§°ï¼ˆå¯é€‰ï¼‰

#### 3.1 Android åº”ç”¨åç§°

ç¼–è¾‘æ–‡ä»¶ï¼š`android/app/src/main/AndroidManifest.xml`

```xml
<application
    android:label="å½±éŸ³æ’­æ”¾å™¨"  <!-- å¯ä»¥æ”¹ä¸º "å½±éŸ³æ’­æ”¾å™¨-å›½å†…ç‰ˆ" -->
    ...>
</application>
```

#### 3.2 iOS åº”ç”¨åç§°

ç¼–è¾‘æ–‡ä»¶ï¼š`ios/Runner/Info.plist`

```xml
<key>CFBundleDisplayName</key>
<string>å½±éŸ³æ’­æ”¾å™¨</string>  <!-- å¯ä»¥æ”¹ä¸º "å½±éŸ³æ’­æ”¾å™¨-å›½å†…ç‰ˆ" -->
```

---

### æ­¥éª¤4ï¼šæ¸…ç†æ—§é¡¹ç›®æ•°æ®

```bash
# åœ¨æ–°é¡¹ç›®ç›®å½•æ‰§è¡Œ
# æ¸…ç† Flutter ç¼“å­˜
flutter clean

# åˆ é™¤æ—§çš„æ„å»ºæ–‡ä»¶
rm -rf build/
rm -rf .dart_tool/

# é‡æ–°è·å–ä¾èµ–
flutter pub get
```

---

## ğŸ“ éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶æ¸…å•

### å¿…é¡»ä¿®æ”¹çš„æ–‡ä»¶

1. âœ… `pubspec.yaml` - ä¿®æ”¹åº”ç”¨åç§°
2. âœ… `android/app/build.gradle` - ä¿®æ”¹ Bundle ID
3. âœ… `ios/Runner.xcodeproj/project.pbxproj` - ä¿®æ”¹ Bundle ID
4. âœ… `lib/config.dart` - ä¿®æ”¹æœåŠ¡å™¨ IPï¼ˆç­‰æœåŠ¡å™¨å‡†å¤‡å¥½åï¼‰

### å¯é€‰ä¿®æ”¹çš„æ–‡ä»¶

5. âš ï¸ `android/app/src/main/AndroidManifest.xml` - ä¿®æ”¹åº”ç”¨æ˜¾ç¤ºåç§°
6. âš ï¸ `ios/Runner/Info.plist` - ä¿®æ”¹åº”ç”¨æ˜¾ç¤ºåç§°

---

## ğŸ”§ å¿«é€Ÿä¿®æ”¹è„šæœ¬

åˆ›å»ºä¸€ä¸ªè„šæœ¬æ–‡ä»¶ `update_to_domestic.sh`ï¼š

```bash
#!/bin/bash

# è¿›å…¥é¡¹ç›®ç›®å½•
cd "/Volumes/Expansion/FlutterProjects/æ¡Œé¢å½±éŸ³æ’­æ”¾å™¨_å›½å†…ç‰ˆ_20251127"

# 1. ä¿®æ”¹ pubspec.yaml
sed -i '' 's/name: video_music_app/name: video_music_app_cn/g' pubspec.yaml

# 2. ä¿®æ”¹ Android Bundle ID
sed -i '' 's/applicationId "com.yourcompany.videomusicapp"/applicationId "com.yourcompany.videomusicapp.cn"/g' android/app/build.gradle

# 3. ä¿®æ”¹ iOS Bundle IDï¼ˆéœ€è¦æ‰‹åŠ¨åœ¨ Xcode ä¸­ä¿®æ”¹ï¼Œæˆ–ä½¿ç”¨æ›´å¤æ‚çš„è„šæœ¬ï¼‰

# 4. æ¸…ç†é¡¹ç›®
flutter clean
flutter pub get

echo "âœ… å›½å†…ç‰ˆé¡¹ç›®é…ç½®å®Œæˆï¼"
echo "âš ï¸  è¯·æ‰‹åŠ¨ä¿®æ”¹ä»¥ä¸‹æ–‡ä»¶ï¼š"
echo "   1. lib/config.dart - ä¿®æ”¹æœåŠ¡å™¨ IPï¼ˆç­‰æœåŠ¡å™¨å‡†å¤‡å¥½åï¼‰"
echo "   2. ios/Runner.xcodeproj/project.pbxproj - ä¿®æ”¹ Bundle ID"
echo "   3. android/app/src/main/AndroidManifest.xml - ä¿®æ”¹åº”ç”¨åç§°ï¼ˆå¯é€‰ï¼‰"
```

---

## ğŸ¯ åç»­æ“ä½œæµç¨‹

### é˜¶æ®µ1ï¼šåˆ›å»ºå›½å†…ç‰ˆé¡¹ç›®ï¼ˆç°åœ¨ï¼‰

1. âœ… å¤åˆ¶é¡¹ç›®
2. âœ… ä¿®æ”¹ Bundle ID
3. âœ… ä¿®æ”¹åº”ç”¨åç§°
4. â³ ç­‰å¾…åŒ—äº¬æœåŠ¡å™¨å‡†å¤‡å¥½

### é˜¶æ®µ2ï¼šé…ç½®åŒ—äº¬æœåŠ¡å™¨ï¼ˆç­‰æœåŠ¡å™¨å‡†å¤‡å¥½ï¼‰

1. â³ åˆ›å»ºåŒ—äº¬æœåŠ¡å™¨
2. â³ è¿ç§»æ•°æ®å’Œä»£ç 
3. â³ é…ç½®è§†é¢‘æœåŠ¡å™¨
4. â³ è·å–æ–°æœåŠ¡å™¨ IP

### é˜¶æ®µ3ï¼šæ›´æ–°å›½å†…ç‰ˆé¡¹ç›®

1. â³ ä¿®æ”¹ `lib/config.dart` ä¸­çš„æœåŠ¡å™¨ IP
2. â³ é‡æ–°ç¼–è¯‘åº”ç”¨
3. â³ æµ‹è¯•è¿æ¥æ–°æœåŠ¡å™¨

### é˜¶æ®µ4ï¼šä¸Šæ¶

1. â³ æµ·å¤–ç‰ˆï¼šä¸Šæ¶åˆ°ç¾å›½/é¦™æ¸¯/å°æ¹¾ï¼ˆä¸éœ€è¦å¤‡æ¡ˆï¼‰
2. â³ å¤‡æ¡ˆï¼šå¼€å§‹å¤‡æ¡ˆæµç¨‹
3. â³ å›½å†…ç‰ˆï¼šå¤‡æ¡ˆå®Œæˆåä¸Šæ¶åˆ°ä¸­å›½å¤§é™†

---

## âš ï¸ é‡è¦æé†’

### 1. Bundle ID å¿…é¡»ä¸åŒ
- æµ·å¤–ç‰ˆï¼š`com.yourcompany.videomusicapp`
- å›½å†…ç‰ˆï¼š`com.yourcompany.videomusicapp.cn`
- **ä¸èƒ½ä½¿ç”¨ç›¸åŒçš„ Bundle ID**

### 2. æœåŠ¡å™¨ IP ç¨åä¿®æ”¹
- ç°åœ¨å¯ä»¥å…ˆä¸æ”¹ `lib/config.dart`
- ç­‰åŒ—äº¬æœåŠ¡å™¨å‡†å¤‡å¥½åå†ä¿®æ”¹
- æˆ–è€…å…ˆç”¨ä¸€ä¸ªå ä½ç¬¦ IP

### 3. é¡¹ç›®ç‹¬ç«‹ç»´æŠ¤
- ä¸¤ä¸ªé¡¹ç›®å®Œå…¨ç‹¬ç«‹
- åŠŸèƒ½æ›´æ–°éœ€è¦åŒæ­¥åˆ°ä¸¤ä¸ªé¡¹ç›®
- å»ºè®®ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ï¼ˆGitï¼‰

---

## ğŸ“‹ æ£€æŸ¥æ¸…å•

åˆ›å»ºå›½å†…ç‰ˆé¡¹ç›®åï¼Œæ£€æŸ¥ï¼š

- [ ] é¡¹ç›®å·²å¤åˆ¶åˆ°æ–°ç›®å½•
- [ ] `pubspec.yaml` ä¸­çš„åç§°å·²ä¿®æ”¹
- [ ] Android Bundle ID å·²ä¿®æ”¹
- [ ] iOS Bundle ID å·²ä¿®æ”¹ï¼ˆæˆ–å‡†å¤‡åœ¨ Xcode ä¸­ä¿®æ”¹ï¼‰
- [ ] é¡¹ç›®å·²æ¸…ç†ï¼ˆ`flutter clean`ï¼‰
- [ ] ä¾èµ–å·²é‡æ–°è·å–ï¼ˆ`flutter pub get`ï¼‰
- [ ] å¯ä»¥æ­£å¸¸ç¼–è¯‘ï¼ˆ`flutter build apk --debug` æµ‹è¯•ï¼‰

---

## ğŸ‰ æ€»ç»“

### ä¼˜ç‚¹
- âœ… ä¸éœ€è¦æ”¹åŠ¨ç°æœ‰é¡¹ç›®
- âœ… ä¸¤ä¸ªé¡¹ç›®ç‹¬ç«‹ç»´æŠ¤
- âœ… çµæ´»æ€§é«˜
- âœ… å¯ä»¥åˆ†åˆ«ä¸Šæ¶

### ä¸‹ä¸€æ­¥
1. ç°åœ¨ï¼šåˆ›å»ºå›½å†…ç‰ˆé¡¹ç›®
2. ç­‰æœåŠ¡å™¨å‡†å¤‡å¥½ï¼šä¿®æ”¹æœåŠ¡å™¨ IP
3. å¤‡æ¡ˆå®Œæˆåï¼šä¸Šæ¶å›½å†…ç‰ˆ

---

**éœ€è¦æˆ‘å¸®ä½ æ‰§è¡Œåˆ›å»ºå›½å†…ç‰ˆé¡¹ç›®çš„å‘½ä»¤å—ï¼Ÿ**



