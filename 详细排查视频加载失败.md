# 详细排查视频加载失败

## 🔍 需要的信息

请提供以下信息：

1. **终端中的完整错误信息**（包含"视频初始化失败"等）
2. **应用界面显示的错误提示**
3. **上传的视频文件名**

---

## 🧪 测试步骤

### 步骤1：检查服务器上的视频文件

在Workbench终端执行：

```bash
# 查看服务器上的视频文件
ls -lh /root/videos/原创视频/

# 查看文件数量
ls /root/videos/原创视频/ | wc -l
```

---

### 步骤2：测试API返回

在Workbench终端执行：

```bash
# 测试API，查看返回的URL格式
curl http://localhost:8081/api/list/原创视频
```

**应该返回**：JSON格式，包含视频信息

---

### 步骤3：测试视频文件访问

在Workbench终端执行（替换为实际文件名）：

```bash
# 测试视频文件是否可以访问
# 注意：URL需要正确编码中文字符
curl -I "http://localhost:8081/video/原创视频/视频文件名.mp4"
```

**应该返回**：HTTP 200 状态码和 `Content-Type: video/mp4`

---

### 步骤4：在Mac上测试外部访问

在你的Mac终端执行：

```bash
# 测试API
curl http://47.243.177.166:8081/api/list/原创视频

# 测试视频文件访问（替换为实际文件名）
curl -I "http://47.243.177.166:8081/video/原创视频/视频文件名.mp4"
```

---

## 🔧 可能的问题

### 问题1：URL编码问题

**现象**：URL包含中文字符，可能无法正确访问

**检查**：
- 查看服务器返回的URL格式
- 测试URL是否可以访问

**解决方案**：确保URL正确编码

---

### 问题2：视频格式不支持

**检查**：视频文件格式是否被支持

**解决方案**：确保视频格式为 `.mp4`, `.mov`, `.avi` 等

---

### 问题3：CORS或网络问题

**检查**：应用是否能访问服务器

**解决方案**：
- 检查网络连接
- 检查服务器CORS配置

---

### 问题4：视频播放器配置问题

**检查**：视频播放器是否正确配置

**解决方案**：检查 `video_player` 包配置

---

## 🎯 现在可以执行

1. **在Workbench终端执行测试命令**（检查服务器）
2. **查看应用终端中的详细错误信息**
3. **告诉我具体的错误信息和测试结果**

---

**先执行测试命令，告诉我结果！** 🔍

