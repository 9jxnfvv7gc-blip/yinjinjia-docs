# 应用测试指南

## 🎯 测试步骤

### 第一步：确认Simulator已启动

1. **检查Simulator窗口**
   - 应该看到iPhone模拟器窗口
   - 显示iOS主屏幕

2. **如果Simulator未启动**
   ```bash
   open -a Simulator
   ```

---

### 第二步：运行应用

在终端运行：
```bash
cd /Volumes/Expansion/FlutterProjects/桌面影音播放器_安装包_20251121_165905
flutter run -d ios
```

**等待编译完成**（可能需要1-3分钟）

---

### 第三步：查看应用界面

应用启动后，你应该看到：

#### 主界面
- ✅ **标题**："我的原创内容"
- ✅ **顶部两个卡片**：
  - 蓝色卡片：原创视频（显示数量）
  - 紫色卡片：原创音乐（显示数量）
- ✅ **上传按钮**（如果启用管理员模式）：
  - 绿色按钮："上传新内容"
- ✅ **内容列表**：
  - "最新视频"部分
  - "最新音乐"部分

---

## 🧪 测试项目

### 1. 测试界面显示

#### ✅ 检查项
- [ ] 标题是否正确显示
- [ ] 统计卡片是否显示（视频和音乐数量）
- [ ] 上传按钮是否显示（如果isAdmin=true）
- [ ] 列表是否显示

#### ⚠️ 如果看到错误
- **"连接服务器失败"**：正常（服务器还没配置）
- **空白页面**：检查是否有编译错误
- **看不到内容**：服务器还没配置，这是正常的

---

### 2. 测试上传按钮显示/隐藏

#### 测试管理员模式

1. **打开配置文件**：
   - 文件：`lib/config.dart`
   - 找到：`static bool get isAdmin`

2. **测试显示上传按钮**：
   ```dart
   static bool get isAdmin {
     return true; // 应该看到上传按钮
   }
   ```
   - 保存文件
   - 在终端按 `r`（热重载）
   - 应该看到绿色的"上传新内容"按钮

3. **测试隐藏上传按钮**：
   ```dart
   static bool get isAdmin {
     return false; // 不应该看到上传按钮
   }
   ```
   - 保存文件
   - 在终端按 `r`（热重载）
   - 上传按钮应该消失

---

### 3. 测试播放器（如果有内容）

#### 如果服务器已配置并有内容

1. **点击视频卡片**
   - 应该打开视频播放器
   - 视频应该在屏幕中央显示
   - 有播放/暂停按钮

2. **点击音乐卡片**
   - 应该打开音乐播放器
   - 音乐图标在中央
   - 播放按钮在中央
   - 进度条在中央下方

---

### 4. 测试上传功能（如果启用）

1. **点击"上传新内容"按钮**
   - 应该弹出底部菜单
   - 显示"上传视频"和"上传音乐"选项

2. **选择上传类型**
   - 选择文件
   - 应该显示上传进度
   - 上传完成后刷新列表

---

## 🔍 常见问题

### Q: 看到"连接服务器失败"
**A**: 这是正常的！因为：
- 服务器地址还没配置
- 服务器可能还没运行
- 这是预期行为

### Q: 看不到内容列表
**A**: 正常，因为：
- 服务器还没配置
- 还没有上传内容
- 列表是空的

### Q: 应用启动很慢
**A**: 正常，因为：
- 第一次编译需要时间
- 后续会快很多（热重载）

### Q: 如何重新加载应用
**A**: 在终端：
- 按 `r`：热重载（快速刷新）
- 按 `R`：热重启（完全重启）
- 按 `q`：退出应用

---

## 📱 测试清单

### 界面测试
- [ ] 应用能正常启动
- [ ] 标题显示正确
- [ ] 统计卡片显示
- [ ] 上传按钮显示/隐藏正确
- [ ] 列表区域显示（即使为空）

### 功能测试（需要服务器）
- [ ] 自动连接服务器
- [ ] 加载内容列表
- [ ] 播放视频
- [ ] 播放音乐
- [ ] 上传功能

---

## 🎯 当前预期效果

### 如果服务器未配置
- ✅ 应用能启动
- ✅ 界面显示正常
- ⚠️ 显示"连接服务器失败"（正常）
- ⚠️ 列表为空（正常）

### 如果服务器已配置
- ✅ 自动连接成功
- ✅ 显示内容列表
- ✅ 可以播放内容
- ✅ 可以上传内容（管理员）

---

## 💡 测试技巧

1. **使用热重载**：
   - 修改代码后按 `r`
   - 快速看到效果

2. **查看日志**：
   - 终端会显示调试信息
   - 查看是否有错误

3. **检查Simulator**：
   - 确保Simulator窗口可见
   - 可以点击和交互

---

## 🚀 下一步

测试完成后：
1. **如果界面正常**：继续配置服务器
2. **如果有问题**：告诉我具体问题
3. **如果需要调整**：告诉我需要改什么

