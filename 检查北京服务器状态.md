# 🔍 检查北京服务器状态

## 📋 需要检查的事项

### 1. 检查服务器是否运行 video_server.py

```bash
# 连接到北京服务器后执行
ps aux | grep video_server.py
```

如果看到 `python3 video_server.py` 进程，说明服务器正在运行。

### 2. 检查端口 8081 是否开放

```bash
# 检查端口监听
netstat -tlnp | grep 8081
# 或
ss -tlnp | grep 8081
```

### 3. 检查防火墙设置

```bash
# 检查防火墙状态
sudo ufw status
# 或
sudo firewall-cmd --list-all
```

如果需要开放端口：
```bash
# Ubuntu/Debian
sudo ufw allow 8081/tcp

# CentOS/RHEL
sudo firewall-cmd --permanent --add-port=8081/tcp
sudo firewall-cmd --reload
```

### 4. 检查 VIDEO_ROOT 环境变量

```bash
# 检查环境变量
echo $VIDEO_ROOT

# 检查视频目录是否存在
ls -la $VIDEO_ROOT/原创视频
ls -la $VIDEO_ROOT/原创歌曲
```

### 5. 手动启动服务器（如果需要）

```bash
# 设置视频根目录
export VIDEO_ROOT="/root/videos"  # 根据实际情况修改

# 启动服务器
cd /root/app  # 或 video_server.py 所在目录
nohup python3 video_server.py > server.log 2>&1 &
```

### 6. 测试服务器 API

在服务器上执行：
```bash
curl http://localhost:8081/api/categories
curl http://localhost:8081/api/list/原创视频
```

## 🔧 如果服务器未运行，启动步骤

1. **连接到北京服务器**（使用 Workbench 或 SSH）
2. **检查视频目录**：确认 `/root/videos` 或你的视频目录存在
3. **启动服务器**：
   ```bash
   export VIDEO_ROOT="/root/videos"
   cd /root/app  # 或 video_server.py 所在目录
   python3 video_server.py
   ```
4. **后台运行**（使用 nohup 或 screen）：
   ```bash
   nohup python3 video_server.py > server.log 2>&1 &
   ```

## ✅ 配置已更新

应用已切换到北京服务器：`http://39.107.137.136:8081`

等服务器启动后，应用就能看到视频了！


