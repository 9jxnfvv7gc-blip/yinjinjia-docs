# å¯åŠ¨æœåŠ¡å™¨å¹¶æµ‹è¯•API

## âœ… URLè§£ç æµ‹è¯•ç»“æœ

- âœ… URLç¼–ç /è§£ç é€»è¾‘æ­£ç¡®
- âœ… ä»£ç é€»è¾‘æ­£ç¡®ï¼ˆèƒ½æ‰«æåˆ°9ä¸ªæ–‡ä»¶ï¼‰
- âŒ æœåŠ¡å™¨æ²¡æœ‰è¿è¡Œï¼ˆConnection refusedï¼‰

---

## ğŸš€ æ­¥éª¤1ï¼šå¯åŠ¨æœåŠ¡å™¨å¹¶æµ‹è¯•

### æ–¹æ³•1ï¼šåå°è¿è¡Œï¼ˆæ¨èï¼‰

```bash
# å¯åŠ¨æœåŠ¡å™¨ï¼ˆåå°è¿è¡Œï¼Œè¾“å‡ºåˆ°æ—¥å¿—ï¼‰
cd /root/video_server
python3 video_server.py > /tmp/video_server.log 2>&1 &

# ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨
sleep 2

# æµ‹è¯•APIï¼ˆä½¿ç”¨URLç¼–ç ï¼‰
curl "http://localhost:8081/api/list/$(python3 -c "from urllib.parse import quote; print(quote('åŸåˆ›è§†é¢‘'))")"

# æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—ï¼ˆè°ƒè¯•ä¿¡æ¯ï¼‰
cat /tmp/video_server.log
```

---

### æ–¹æ³•2ï¼šä½¿ç”¨systemdæœåŠ¡

```bash
# å¯åŠ¨æœåŠ¡
systemctl start video-server

# ç­‰å¾…å¯åŠ¨
sleep 2

# æµ‹è¯•API
curl "http://localhost:8081/api/list/$(python3 -c "from urllib.parse import quote; print(quote('åŸåˆ›è§†é¢‘'))")"

# æŸ¥çœ‹æ—¥å¿—
journalctl -u video-server -n 50 --no-pager
```

---

## ğŸ” æ­¥éª¤2ï¼šæŸ¥çœ‹è°ƒè¯•ä¿¡æ¯

æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤åï¼Œåº”è¯¥çœ‹åˆ°ï¼š
- APIè¿”å›çš„JSONç»“æœ
- æœåŠ¡å™¨æ—¥å¿—ä¸­çš„è°ƒè¯•ä¿¡æ¯ï¼ˆåŸå§‹è·¯å¾„ã€è§£ç åçš„categoryç­‰ï¼‰

---

## ğŸ“‹ æ‰§è¡Œå

æŠŠä»¥ä¸‹å†…å®¹å‘ç»™æˆ‘ï¼š
1. **APIè¿”å›çš„JSONç»“æœ**
2. **æœåŠ¡å™¨æ—¥å¿—ä¸­çš„è°ƒè¯•ä¿¡æ¯**

---

**å…ˆå¯åŠ¨æœåŠ¡å™¨ï¼Œç„¶åæµ‹è¯•APIï¼** ğŸš€

