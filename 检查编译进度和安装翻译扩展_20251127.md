# 📋 检查编译进度和安装翻译扩展（2025-11-27）

## 1. 🔍 检查编译进度

### 方法1：通过 SSH 登录检查

如果密码登录被禁用，可能需要使用 SSH 密钥。先尝试：

```bash
# 尝试 SSH 登录
ssh root@47.243.177.166
```

### 方法2：在远程桌面中检查

如果你能登录远程桌面，在终端中运行：

```bash
# 检查编译进程
ps aux | grep flutter | grep -v grep

# 检查 Gradle 进程
ps aux | grep gradle | grep -v grep

# 检查 APK 文件
ls -lh /root/app/build/app/outputs/flutter-apk/*.apk

# 查看编译日志（如果有）
tail -50 /root/app/build.log 2>/dev/null
```

### 方法3：检查 APK 文件时间戳

```bash
# 查看 APK 文件的最后修改时间
ls -lh /root/app/build/app/outputs/flutter-apk/app-release.apk

# 如果文件存在且时间是最新的，说明编译已完成
# 如果文件不存在或时间很旧，说明编译未完成或失败
```

### 如果编译未完成，重新编译：

```bash
cd /root/app

# 设置环境变量
export PATH=$PATH:/opt/flutter/bin
export ANDROID_HOME=/opt/android-sdk
export PATH=$PATH:$ANDROID_HOME/cmdline-tools/latest/bin:$ANDROID_HOME/platform-tools

# 重新编译
flutter pub get
flutter build apk --release
```

---

## 2. 🌐 安装 Google 翻译扩展

### 方法1：在 Firefox 中直接安装（推荐）

#### 步骤1：打开 Firefox 扩展商店

1. 在远程桌面的 Firefox 中
2. 访问：`https://addons.mozilla.org/zh-CN/firefox/addon/to-google-translate/`
3. 或搜索 "Google Translate"

#### 步骤2：安装扩展

1. 点击 "添加到 Firefox"（Add to Firefox）
2. 确认安装
3. 等待安装完成

#### 步骤3：使用扩展

1. 打开 Google Play Console 页面
2. 如果页面是乱码，点击扩展图标
3. 选择 "Translate this page"（翻译此页面）
4. 选择目标语言（中文或英文）
5. **整个页面（包括弹出框）都会被翻译**

---

### 方法2：手动下载安装

#### 步骤1：下载扩展文件

在远程桌面的终端中：

```bash
# 下载扩展文件
cd /tmp
wget 'https://addons.mozilla.org/firefox/downloads/latest/to-google-translate/latest.xpi' -O google-translate.xpi

# 或者使用 curl
curl -L 'https://addons.mozilla.org/firefox/downloads/latest/to-google-translate/latest.xpi' -o google-translate.xpi
```

#### 步骤2：在 Firefox 中安装

1. 打开 Firefox
2. 按 `Ctrl+Shift+A`（或菜单：Tools → Add-ons）
3. 点击右上角的齿轮图标
4. 选择 "Install Add-on From File..."（从文件安装扩展）
5. 选择下载的 `google-translate.xpi` 文件
6. 确认安装

---

### 方法3：使用命令行安装（如果支持）

```bash
# 在远程桌面终端中
firefox /tmp/google-translate.xpi &
```

然后在弹出的 Firefox 窗口中确认安装。

---

## 3. 🔐 解决 SSH 密码登录问题

### 问题：密码登录被禁用

可能的原因：
1. 服务器安全设置禁用了密码登录
2. 只允许 SSH 密钥登录
3. 密码错误次数过多被临时锁定

### 解决方案

#### 方案1：使用 SSH 密钥（推荐）

如果你之前配置过 SSH 密钥：

```bash
# 在本地 Mac 上
ssh -i ~/.ssh/id_rsa root@47.243.177.166
```

#### 方案2：在阿里云控制台重置

1. 登录阿里云控制台
2. 找到 ECS 实例
3. 使用"远程连接"功能（VNC）
4. 在服务器上修改 SSH 配置

#### 方案3：使用远程桌面

如果远程桌面可以连接：
1. 通过远程桌面登录
2. 在远程桌面中打开终端
3. 执行命令

---

## 4. 📋 快速操作清单

### 检查编译进度
- [ ] SSH 登录服务器（或使用远程桌面）
- [ ] 检查编译进程：`ps aux | grep flutter`
- [ ] 检查 APK 文件：`ls -lh /root/app/build/app/outputs/flutter-apk/*.apk`
- [ ] 如果未完成，重新编译

### 安装翻译扩展
- [ ] 在 Firefox 中访问扩展商店
- [ ] 搜索 "Google Translate"
- [ ] 安装扩展
- [ ] 测试翻译功能

### 解决 SSH 问题
- [ ] 尝试使用 SSH 密钥登录
- [ ] 或使用阿里云控制台的远程连接
- [ ] 或使用远程桌面

---

## 5. 🚀 推荐操作流程

### 第一步：使用远程桌面

如果 SSH 无法连接，使用远程桌面：
1. 打开 Windows App（远程桌面客户端）
2. 连接到 `47.243.177.166:3389`
3. 登录远程桌面

### 第二步：在远程桌面中操作

1. **检查编译进度**：
   ```bash
   # 打开终端
   ps aux | grep flutter
   ls -lh /root/app/build/app/outputs/flutter-apk/*.apk
   ```

2. **安装翻译扩展**：
   - 打开 Firefox
   - 访问扩展商店
   - 安装 Google Translate 扩展

### 第三步：测试

1. 打开 Google Play Console
2. 使用翻译扩展翻译页面
3. 检查弹出框是否也能翻译

---

## 6. 💡 如果还是无法连接

### 使用阿里云控制台

1. 登录阿里云控制台
2. 找到你的 ECS 实例
3. 点击"远程连接"
4. 选择"VNC"或"Workbench"
5. 在控制台中执行命令

---

**最后更新**：2025-11-27  
**推荐**：使用远程桌面操作，这样最稳定




