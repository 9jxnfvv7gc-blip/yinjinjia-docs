# 检查本地目录和上传文件

## ❌ 问题现象

rsync显示 `total size is 0  speedup is 0.00`，说明没有文件被传输。

---

## 🔍 可能的原因

1. **本地目录为空**（没有视频或歌曲文件）
2. **本地目录路径不正确**
3. **目录不存在**

---

## 🚀 解决步骤

### 步骤1：检查本地目录

在你的Mac终端执行：

```bash
# 检查视频目录是否存在
ls -lh "/Volumes/Expansion/原创视频/"

# 检查歌曲目录是否存在
ls -lh "/Volumes/Expansion/原创歌曲/"

# 查看文件数量
ls "/Volumes/Expansion/原创视频/" | wc -l
ls "/Volumes/Expansion/原创歌曲/" | wc -l
```

**如果目录不存在或为空**：
- 需要先准备视频和歌曲文件
- 或者使用其他路径的目录

---

### 步骤2：如果目录为空，准备文件

**选项1：使用其他路径的目录**

如果你有视频和歌曲文件在其他位置，可以：

```bash
# 上传其他路径的视频
rsync -avz --progress "/你的视频路径/" root@47.243.177.166:/root/videos/原创视频/

# 上传其他路径的歌曲
rsync -avz --progress "/你的歌曲路径/" root@47.243.177.166:/root/videos/原创歌曲/
```

**选项2：使用Workbench文件管理器上传**

1. 打开Workbench文件管理器
2. 导航到 `/root/videos/原创视频/` 或 `/root/videos/原创歌曲/`
3. 点击 **上传** 按钮
4. 从你的Mac选择文件上传

---

### 步骤3：如果目录有文件，检查路径

**确认路径是否正确**：

```bash
# 检查完整路径
ls -la "/Volumes/Expansion/原创视频/"
ls -la "/Volumes/Expansion/原创歌曲/"
```

**如果路径不对，使用正确的路径**：

```bash
# 使用正确的路径上传
rsync -avz --progress "/正确的视频路径/" root@47.243.177.166:/root/videos/原创视频/
rsync -avz --progress "/正确的歌曲路径/" root@47.243.177.166:/root/videos/原创歌曲/
```

---

### 步骤4：使用Workbench文件管理器上传（推荐）

如果rsync有问题，使用Workbench文件管理器：

1. **打开Workbench文件管理器**
2. **导航到 `/root/videos/原创视频/` 或 `/root/videos/原创歌曲/`**
3. **点击上传按钮**
4. **从你的Mac选择文件上传**

**优点**：
- 不需要SSH密码
- 可以直接选择文件
- 支持拖拽上传

---

## 📋 完整操作流程

### 1. 检查本地目录（Mac终端）
```bash
ls -lh "/Volumes/Expansion/原创视频/"
ls -lh "/Volumes/Expansion/原创歌曲/"
```

### 2. 如果目录有文件，使用rsync上传
```bash
rsync -avz --progress "/Volumes/Expansion/原创视频/" root@47.243.177.166:/root/videos/原创视频/
rsync -avz --progress "/Volumes/Expansion/原创歌曲/" root@47.243.177.166:/root/videos/原创歌曲/
```

### 3. 如果目录为空或rsync失败，使用Workbench文件管理器上传

### 4. 验证上传结果（Workbench终端）
```bash
ls -lh /root/videos/原创视频/
ls -lh /root/videos/原创歌曲/
curl http://localhost:8081/api/list/原创视频
```

---

## 🎯 现在可以执行

1. **检查本地目录**（在Mac终端：`ls -lh "/Volumes/Expansion/原创视频/"`）
2. **如果目录有文件，重新执行rsync命令**
3. **如果目录为空，使用Workbench文件管理器上传文件**

---

## 💡 提示

- **如果本地目录为空**，需要先准备视频和歌曲文件
- **如果rsync失败**，使用Workbench文件管理器上传更简单
- **上传完成后**，API应该返回文件列表，不再是空数组

---

**先检查本地目录，告诉我结果！** 🔍

