# ä¸Šä¼ æ–‡ä»¶æ–¹æ³•

## âœ… é˜²ç«å¢™å·²é…ç½®å®Œæˆ

- âœ… é˜²ç«å¢™å·²å¯ç”¨
- âœ… 8081ç«¯å£å·²å¼€æ”¾
- âœ… SSHç«¯å£ï¼ˆ22ï¼‰å·²å¼€æ”¾

---

## ğŸ“¤ ä¸Šä¼ video_server.pyæ–‡ä»¶

### æ–¹æ³•1ï¼šä½¿ç”¨scpï¼ˆå¦‚æœåˆšæ‰æˆåŠŸäº†ï¼‰

åœ¨æœåŠ¡å™¨ä¸Šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å·²ä¸Šä¼ ï¼š

```bash
ls -la /tmp/video_server.py
```

å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œç§»åŠ¨æ–‡ä»¶ï¼š

```bash
sudo mv /tmp/video_server.py /root/video_server/
sudo chown root:root /root/video_server/video_server.py
```

---

### æ–¹æ³•2ï¼šä½¿ç”¨Workbenchæ–‡ä»¶ç®¡ç†å™¨ï¼ˆæ¨èï¼‰

1. **åœ¨Workbenchä¸­**ï¼Œç‚¹å‡»"æ–‡ä»¶ç®¡ç†å™¨"å›¾æ ‡ï¼ˆå·¦ä¾§å·¥å…·æ ï¼‰
2. **å¯¼èˆªåˆ°** `/root/video_server/`
   - å¦‚æœæç¤ºæƒé™ä¸è¶³ï¼Œå¯ä»¥ï¼š
     - å…ˆä¸Šä¼ åˆ° `/home/admin/` ç›®å½•
     - ç„¶åä½¿ç”¨ `sudo mv` ç§»åŠ¨åˆ° `/root/video_server/`
3. **ä¸Šä¼ ** `video_server.py` æ–‡ä»¶

**æ­¥éª¤**ï¼š
- ç‚¹å‡»"ä¸Šä¼ "æŒ‰é’®
- é€‰æ‹©æœ¬åœ°çš„ `video_server.py` æ–‡ä»¶
- ä¸Šä¼ åˆ° `/home/admin/` æˆ– `/root/video_server/`

---

### æ–¹æ³•3ï¼šå¦‚æœscpéœ€è¦å¯†ç 

åœ¨ä½ çš„Macç»ˆç«¯æ‰§è¡Œï¼š

```bash
scp "/Volumes/Expansion/FlutterProjects/æ¡Œé¢å½±éŸ³æ’­æ”¾å™¨_å®‰è£…åŒ…_20251121_165905/video_server.py" admin@39.107.137.136:/tmp/
```

å¦‚æœæç¤ºè¾“å…¥å¯†ç ï¼Œè¾“å…¥adminç”¨æˆ·çš„å¯†ç ã€‚

---

## ğŸ”§ ä¸Šä¼ åé…ç½®

æ–‡ä»¶ä¸Šä¼ åï¼Œåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
# 1. å¦‚æœæ–‡ä»¶åœ¨/tmpï¼Œç§»åŠ¨åˆ°æ­£ç¡®ä½ç½®
sudo mv /tmp/video_server.py /root/video_server/
sudo chown root:root /root/video_server/video_server.py

# æˆ–è€…å¦‚æœæ–‡ä»¶åœ¨/home/adminï¼Œç§»åŠ¨æ–‡ä»¶
sudo mv /home/admin/video_server.py /root/video_server/
sudo chown root:root /root/video_server/video_server.py

# 2. ç¡®è®¤æ–‡ä»¶å­˜åœ¨
sudo ls -la /root/video_server/video_server.py

# 3. ä¿®æ”¹VIDEO_ROOT
sudo sed -i '20s|VIDEO_ROOT = "/Volumes/Expansion"|VIDEO_ROOT = "/root/videos"|g' /root/video_server/video_server.py

# 4. ç¡®è®¤é…ç½®
sudo grep -n "VIDEO_ROOT" /root/video_server/video_server.py | head -1

# 5. é‡å¯æœåŠ¡
sudo systemctl restart video-server-beijing

# 6. æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status video-server-beijing

# 7. æŸ¥çœ‹æ—¥å¿—ï¼ˆå¦‚æœæœ‰é”™è¯¯ï¼‰
sudo tail -20 /var/log/video-server-beijing-error.log
```

---

## ğŸ“‹ æ‰§è¡Œé¡ºåº

1. **ä¸Šä¼ æ–‡ä»¶**ï¼ˆä½¿ç”¨Workbenchæ–‡ä»¶ç®¡ç†å™¨æˆ–scpï¼‰
2. **ç§»åŠ¨æ–‡ä»¶åˆ°æ­£ç¡®ä½ç½®**
3. **é…ç½®VIDEO_ROOT**
4. **é‡å¯æœåŠ¡**
5. **æµ‹è¯•æœåŠ¡å™¨**

---

**å…ˆä¸Šä¼ æ–‡ä»¶ï¼Œç„¶åå‘Šè¯‰æˆ‘ç»“æœï¼** ğŸ“¤

