# 📶 无线ADB连接指南

## 🔌 方法1：通过USB启用无线调试（推荐）

### 步骤1：通过USB连接并启用TCP/IP模式

1. **先用USB连接设备**（临时连接）

2. **在终端运行**：
   ```bash
   adb tcpip 5555
   ```
   这会启用设备的TCP/IP模式，端口5555

3. **查看设备IP地址**：
   ```bash
   adb shell ip addr show wlan0
   ```
   或者
   ```bash
   adb shell ifconfig wlan0
   ```
   或者直接在手机上查看：
   - 设置 → 关于手机 → 状态信息 → IP地址
   - 或 设置 → WLAN → 点击已连接的WiFi → 查看IP地址

### 步骤2：断开USB，通过WiFi连接

1. **拔掉USB线**

2. **连接设备**：
   ```bash
   adb connect <设备IP地址>:5555
   ```
   例如：`adb connect 192.168.1.100:5555`

3. **检查连接**：
   ```bash
   adb devices
   ```
   应该看到设备显示为：`192.168.1.100:5555    device`

## 🔌 方法2：Android 11+ 无线调试（无需USB）

### 步骤1：在手机上启用无线调试

1. **打开开发者选项**：
   - 设置 → 关于手机 → 连续点击"版本号"7次

2. **启用无线调试**：
   - 设置 → 开发者选项
   - 找到"无线调试"（Wireless debugging）
   - 启用"无线调试"

3. **查看配对信息**：
   - 点击"无线调试"
   - 会显示IP地址和端口（例如：192.168.1.100:5555）
   - 或者显示配对码和端口

### 步骤2：配对设备（如果需要）

如果显示配对码：

1. **在手机上**：
   - 记下配对码和端口（例如：端口：12345）

2. **在电脑上运行**：
   ```bash
   adb pair <手机IP>:<配对端口>
   ```
   例如：`adb pair 192.168.1.100:12345`
   
3. **输入配对码**（终端会提示）

### 步骤3：连接设备

1. **在手机上查看连接端口**：
   - 无线调试页面会显示IP和端口（例如：192.168.1.100:5555）

2. **在电脑上连接**：
   ```bash
   adb connect <手机IP>:<端口>
   ```
   例如：`adb connect 192.168.1.100:5555`

3. **检查连接**：
   ```bash
   adb devices
   ```

## 📱 获取设备IP地址的方法

### 方法1：通过ADB（USB连接时）
```bash
adb shell ip addr show wlan0 | grep "inet " | awk '{print $2}' | cut -d/ -f1
```

### 方法2：在手机上查看
- **Android 10及以下**：
  - 设置 → WLAN → 点击已连接的WiFi → 查看IP地址

- **Android 11及以上**：
  - 设置 → 关于手机 → 状态信息 → IP地址
  - 或 设置 → 开发者选项 → 无线调试 → 查看IP和端口

## 🚀 连接成功后安装APK

无线连接成功后，就可以安装APK了：

```bash
# 检查连接
adb devices

# 安装APK
adb install -r ~/Desktop/app-release.apk
```

## ⚠️ 注意事项

1. **设备必须连接到WiFi**：
   - 手机和电脑必须在同一个WiFi网络

2. **防火墙设置**：
   - 确保防火墙允许ADB连接（端口5555）

3. **保持连接**：
   - 如果连接断开，重新运行 `adb connect <IP>:5555`

4. **断开连接**：
   ```bash
   adb disconnect <IP>:5555
   ```

## 🔄 快速连接脚本

创建快速连接脚本：

```bash
# 假设设备IP是 192.168.1.100
adb connect 192.168.1.100:5555
adb devices
```

---

**请告诉我你的设备IP地址，或者按照步骤启用无线调试后告诉我显示的IP和端口！**


