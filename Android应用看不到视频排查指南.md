# 🔍 Android应用看不到视频排查指南

## 📋 可能的原因

### 1. 网络权限未授予 ⚠️（最常见）

**问题**: Android 6.0+ 需要手动授予网络权限

**解决方法**:
1. 打开手机的 **设置**
2. 找到 **应用** 或 **应用管理**
3. 找到 **"影音播放器"** 应用
4. 点击进入应用详情
5. 找到 **权限** 或 **权限管理**
6. 确保 **网络** 或 **互联网** 权限已开启

### 2. 检查服务器连接

**测试方法**:
1. 在Android手机上打开浏览器
2. 访问: `http://47.243.177.166:8081/api/list/原创视频`
3. 如果能看到JSON数据，说明网络连接正常
4. 如果无法访问，可能是：
   - 手机网络问题
   - 防火墙阻止
   - 服务器未运行

### 3. 检查应用日志

**通过ADB查看日志**:
```bash
# 连接手机后
adb logcat | grep -i "flutter\|video\|http\|error"
```

**查看应用错误信息**:
```bash
adb logcat *:E | grep -i flutter
```

### 4. 重新安装应用

如果权限已授予但仍看不到视频：

```bash
# 卸载旧版本
adb uninstall com.example.videoMusicApp

# 重新安装
adb install -r ~/Desktop/app-release-new.apk
```

### 5. 检查服务器视频目录

**在服务器上检查**:
```bash
# 检查视频目录
ls -la /root/videos/原创视频/ | head -10

# 检查API是否返回数据
curl http://localhost:8081/api/list/原创视频
```

## 🔧 快速修复步骤

### 步骤1: 检查权限（最重要）
1. 设置 → 应用 → 影音播放器 → 权限 → 开启网络权限

### 步骤2: 测试网络连接
1. 手机浏览器访问: `http://47.243.177.166:8081/api/list/原创视频`
2. 应该能看到JSON数据

### 步骤3: 查看应用日志
```bash
adb logcat -c  # 清空日志
# 然后在手机上打开应用
adb logcat | grep -i "error\|exception\|failed"
```

### 步骤4: 如果还是不行
- 重启应用
- 重启手机
- 重新安装应用

## 📱 Android权限授予详细步骤

### 不同品牌手机路径：

**小米/红米**:
- 设置 → 应用设置 → 应用管理 → 影音播放器 → 权限管理 → 网络

**华为/荣耀**:
- 设置 → 应用 → 应用管理 → 影音播放器 → 权限 → 网络

**OPPO/OnePlus**:
- 设置 → 应用管理 → 应用列表 → 影音播放器 → 权限 → 网络

**vivo**:
- 设置 → 应用与权限 → 应用管理 → 影音播放器 → 权限 → 网络

**三星**:
- 设置 → 应用 → 影音播放器 → 权限 → 网络

**通用方法**:
- 长按应用图标 → 应用信息 → 权限 → 网络

## 🎯 测试清单

- [ ] 网络权限已授予
- [ ] 手机浏览器能访问服务器API
- [ ] 应用已重新安装
- [ ] 查看应用日志无错误
- [ ] 服务器视频目录有文件

---

**如果以上都检查了还是不行，请提供：**
1. 应用日志（通过adb logcat）
2. 手机型号和Android版本
3. 浏览器访问服务器的结果


