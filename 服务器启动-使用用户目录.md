# 🚀 服务器启动 - 使用用户目录（不需要 root）

## 📋 问题

- `/root` 目录是只读的或没有权限
- 使用用户目录更简单

## ✅ 解决方案：使用 admin 用户目录

### 步骤1：在服务器上执行（全部复制粘贴）

```bash
# 创建目录（使用 admin 用户目录）
mkdir -p ~/app
mkdir -p ~/videos/原创视频
mkdir -p ~/videos/原创歌曲

# 检查 video_server.py 是否已上传
ls -la /tmp/video_server.py

# 如果存在，移动到用户目录
mv /tmp/video_server.py ~/app/
chmod +x ~/app/video_server.py

# 启动服务器（使用用户目录）
cd ~/app
export VIDEO_ROOT="$HOME/videos"
nohup python3 video_server.py > ~/server.log 2>&1 &

# 检查进程
ps aux | grep video_server.py

# 查看日志
tail -20 ~/server.log

# 测试 API
curl http://localhost:8081/api/categories
```

### 步骤2：如果文件还没上传

在本地 Mac 终端执行：

```bash
cd "/Volumes/Expansion/FlutterProjects/桌面影音播放器_安装包_20251121_165905"
scp video_server.py admin@39.107.137.136:/tmp/video_server.py
```

然后回到服务器，执行步骤1。

## 📝 重要提示

- 使用 `~/app` 而不是 `/root/app`
- 使用 `~/videos` 而不是 `/root/videos`
- 不需要 `sudo`，直接使用 admin 用户

## 🔍 检查视频文件位置

```bash
# 检查视频文件在哪里
find ~ -name "*.mp4" -o -name "*.mov" 2>/dev/null | head -5
find /home -name "*.mp4" -o -name "*.mov" 2>/dev/null | head -5

# 如果视频在其他位置，修改 VIDEO_ROOT
# 例如：export VIDEO_ROOT="/实际视频路径"
```


