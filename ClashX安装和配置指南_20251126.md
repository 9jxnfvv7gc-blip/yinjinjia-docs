# 🚀 ClashX 安装和配置指南（2025-11-26）

## 📋 步骤概览

1. ✅ 卸载 Clash Verge（已完成）
2. ⏳ 下载 ClashX
3. ⏳ 安装 ClashX
4. ⏳ 配置 ClashX（使用香港服务器）
5. ⏳ 测试访问 Google

---

## 📥 下载 ClashX

### 方法1：从 GitHub 下载（推荐）

1. **打开浏览器**，访问：
   ```
   https://github.com/yichengchen/clashX/releases/latest
   ```

2. **找到最新的 `.dmg` 文件**（例如：`ClashX.dmg`）

3. **点击下载**

### 方法2：使用终端下载

在终端运行：

```bash
cd ~/Downloads
curl -L -o ClashX.dmg "https://github.com/yichengchen/clashX/releases/download/1.95.1/ClashX.dmg"
```

（版本号可能需要更新，请查看 GitHub 最新版本）

---

## 🔧 安装 ClashX

1. **打开下载的 `ClashX.dmg` 文件**

2. **将 ClashX 拖拽到 Applications 文件夹**

3. **打开 Applications 文件夹，找到 ClashX**

4. **右键点击 ClashX → 打开**（首次打开需要确认）

5. **在菜单栏看到 ClashX 图标**（小猫咪 🐱）

---

## ⚙️ 配置 ClashX

### 步骤1：创建配置文件

1. **点击菜单栏的 ClashX 图标**

2. **选择"配置" → "打开本地配置文件夹"**

3. **创建一个新文件**，命名为：`config.yaml`

4. **将以下内容复制到文件中**：

```yaml
port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: info
external-controller: 127.0.0.1:9090

proxies:
  - name: "HongKong-Squid"
    type: http
    server: 47.243.177.166
    port: 3128
    skip-cert-verify: true

proxy-groups:
  - name: "Proxy"
    type: select
    proxies:
      - "HongKong-Squid"
  - name: "DIRECT"
    type: select
    proxies:
      - DIRECT

rules:
  # 国内网站直连
  - DOMAIN-SUFFIX,doubao.com,DIRECT
  - DOMAIN-SUFFIX,bytedance.com,DIRECT
  - DOMAIN-SUFFIX,baidu.com,DIRECT
  - DOMAIN-SUFFIX,taobao.com,DIRECT
  - DOMAIN-SUFFIX,qq.com,DIRECT
  - DOMAIN-SUFFIX,weibo.com,DIRECT
  - DOMAIN-SUFFIX,zhihu.com,DIRECT
  - DOMAIN-SUFFIX,alipay.com,DIRECT
  - DOMAIN-SUFFIX,alibaba.com,DIRECT
  - DOMAIN-SUFFIX,tencent.com,DIRECT
  - DOMAIN-SUFFIX,163.com,DIRECT
  - DOMAIN-SUFFIX,sina.com,DIRECT
  - DOMAIN-SUFFIX,sohu.com,DIRECT
  - DOMAIN-SUFFIX,jd.com,DIRECT
  - DOMAIN-SUFFIX,360.com,DIRECT
  - DOMAIN-SUFFIX,cn,DIRECT
  # Google 相关网站走代理
  - DOMAIN-SUFFIX,google.com,Proxy
  - DOMAIN-SUFFIX,googleapis.com,Proxy
  - DOMAIN-SUFFIX,gstatic.com,Proxy
  - DOMAIN-SUFFIX,googleusercontent.com,Proxy
  - DOMAIN-SUFFIX,gmail.com,Proxy
  - DOMAIN-SUFFIX,youtube.com,Proxy
  # 其他网站走代理
  - MATCH,Proxy
```

5. **保存文件**

### 步骤2：加载配置

1. **点击菜单栏的 ClashX 图标**

2. **选择"配置" → "config.yaml"**（选择你刚创建的配置文件）

3. **选择"出站模式" → "规则判断"**

4. **选择"设置为系统代理"**（启用系统代理）

5. **选择"允许局域网连接"**（这样 iPhone 可以通过 Mac 访问）

---

## ✅ 测试

### 测试1：Mac 访问 Google

1. **打开浏览器**，访问：`https://www.google.com`

2. **如果能看到 Google 首页，说明配置成功** ✅

### 测试2：Mac 访问豆包

1. **打开浏览器**，访问：`https://www.doubao.com`

2. **如果能看到豆包首页，说明国内网站直连正常** ✅

---

## 📱 配置 iPhone 使用 Mac 的代理

### 步骤1：查看 Mac 的 IP 地址

在 Mac 终端运行：

```bash
ifconfig | grep "inet " | grep -v 127.0.0.1
```

记住这个 IP 地址（例如：`192.168.1.100`）

### 步骤2：在 iPhone 上配置

1. **iPhone → 设置 → Wi-Fi**

2. **点击当前连接的 Wi-Fi 旁边的 ⓘ 图标**

3. **滚动到底部，找到"HTTP 代理"**

4. **选择"手动"**

5. **填写**：
   - **服务器**：Mac 的 IP 地址（例如：`192.168.1.100`）
   - **端口**：`7890`
   - **认证**：关闭

6. **保存**

7. **测试访问 Google**：在 iPhone Safari 中打开 `https://www.google.com`

---

## 🔍 常见问题

### 问题1：ClashX 无法启动

**解决**：
1. 检查是否已关闭 Clash Verge
2. 重启 Mac
3. 重新安装 ClashX

### 问题2：无法访问 Google

**解决**：
1. 检查 ClashX 是否已启动（菜单栏有图标）
2. 检查"设置为系统代理"是否已启用
3. 检查配置文件是否正确
4. 检查服务器地址和端口是否正确

### 问题3：国内网站无法访问

**解决**：
1. 检查规则配置是否正确
2. 尝试切换到"直连模式"测试
3. 检查 DNS 设置

---

## 🎯 下一步

配置完成后，你可以：
1. ✅ 在 Mac 上访问 Google
2. ✅ 在 iPhone 上通过 Mac 访问 Google
3. ✅ 在远程桌面注册 Google 账号
4. ✅ 完成手机验证步骤

---

**最后更新**：2025-11-26






