# ğŸ”§ åŒ—äº¬æœåŠ¡å™¨å¯åŠ¨ - æƒé™é—®é¢˜è§£å†³

## âŒ é‡åˆ°çš„é—®é¢˜

- ç”¨æˆ·æ˜¯ `admin`ï¼Œä¸æ˜¯ `root`
- æ— æ³•è®¿é—® `/root/app` ç›®å½•ï¼ˆæƒé™è¢«æ‹’ç»ï¼‰
- æ— æ³•å†™å…¥ `/root/server.log`ï¼ˆæƒé™è¢«æ‹’ç»ï¼‰

## âœ… è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šä½¿ç”¨ sudoï¼ˆæ¨èï¼‰

åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
# 1. åˆ‡æ¢åˆ° root ç”¨æˆ·
sudo su -

# 2. è®¾ç½®è§†é¢‘ç›®å½•
export VIDEO_ROOT="/root/videos"

# 3. è¿›å…¥è„šæœ¬ç›®å½•ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
cd /root/app

# 4. å¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œåˆ›å»ºå®ƒ
mkdir -p /root/app

# 5. æ£€æŸ¥ video_server.py æ˜¯å¦å­˜åœ¨
ls -la /root/app/video_server.py

# 6. å¦‚æœä¸å­˜åœ¨ï¼Œéœ€è¦å…ˆä¸Šä¼ ï¼ˆè§ä¸‹æ–¹ï¼‰
```

### æ–¹æ¡ˆ2ï¼šä½¿ç”¨ admin ç”¨æˆ·ç›®å½•

å¦‚æœä¸æƒ³ä½¿ç”¨ rootï¼Œå¯ä»¥ä½¿ç”¨ admin ç”¨æˆ·çš„ç›®å½•ï¼š

```bash
# 1. åˆ›å»ºç›®å½•
mkdir -p ~/app
mkdir -p ~/videos

# 2. è®¾ç½®è§†é¢‘ç›®å½•ï¼ˆä½¿ç”¨ admin ç”¨æˆ·çš„ç›®å½•ï¼‰
export VIDEO_ROOT="$HOME/videos"

# 3. è¿›å…¥è„šæœ¬ç›®å½•
cd ~/app

# 4. å¯åŠ¨æœåŠ¡å™¨ï¼ˆä½¿ç”¨ admin ç”¨æˆ·çš„ç›®å½•ï¼‰
nohup python3 video_server.py > ~/server.log 2>&1 &

# 5. æ£€æŸ¥æ˜¯å¦å¯åŠ¨æˆåŠŸ
ps aux | grep video_server.py
```

## ğŸ“¤ ä¸Šä¼  video_server.py åˆ°æœåŠ¡å™¨

å¦‚æœæœåŠ¡å™¨ä¸Šæ²¡æœ‰ `video_server.py`ï¼Œéœ€è¦å…ˆä¸Šä¼ ï¼š

### åœ¨æœ¬åœ° Mac ç»ˆç«¯æ‰§è¡Œï¼š

```bash
cd "/Volumes/Expansion/FlutterProjects/æ¡Œé¢å½±éŸ³æ’­æ”¾å™¨_å®‰è£…åŒ…_20251121_165905"

# ä¸Šä¼ åˆ° root ç›®å½•ï¼ˆéœ€è¦ root æƒé™ï¼‰
scp video_server.py admin@39.107.137.136:/tmp/video_server.py

# ç„¶ååœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨ sudo ç§»åŠ¨åˆ° /root/app
```

### åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼ˆä½¿ç”¨ sudoï¼‰ï¼š

```bash
# ä» /tmp ç§»åŠ¨åˆ° /root/app
sudo mkdir -p /root/app
sudo mv /tmp/video_server.py /root/app/
sudo chmod +x /root/app/video_server.py
```

## ğŸš€ å®Œæ•´å¯åŠ¨æ­¥éª¤ï¼ˆä½¿ç”¨ sudoï¼‰

åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
# 1. åˆ‡æ¢åˆ° root
sudo su -

# 2. è®¾ç½®è§†é¢‘ç›®å½•
export VIDEO_ROOT="/root/videos"

# 3. æ£€æŸ¥è§†é¢‘ç›®å½•æ˜¯å¦å­˜åœ¨
ls -la /root/videos/åŸåˆ›è§†é¢‘

# 4. å¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºç›®å½•
mkdir -p /root/videos/åŸåˆ›è§†é¢‘
mkdir -p /root/videos/åŸåˆ›æ­Œæ›²

# 5. è¿›å…¥è„šæœ¬ç›®å½•
cd /root/app

# 6. æ£€æŸ¥è„šæœ¬æ˜¯å¦å­˜åœ¨
ls -la video_server.py

# 7. å¦‚æœä¸å­˜åœ¨ï¼Œå…ˆä¸Šä¼ ï¼ˆåœ¨æœ¬åœ° Mac æ‰§è¡Œä¸Šé¢çš„ scp å‘½ä»¤ï¼‰

# 8. å¯åŠ¨æœåŠ¡å™¨
nohup python3 video_server.py > /root/server.log 2>&1 &

# 9. æ£€æŸ¥æ˜¯å¦å¯åŠ¨æˆåŠŸ
ps aux | grep video_server.py

# 10. æŸ¥çœ‹æ—¥å¿—
tail -f /root/server.log

# 11. æµ‹è¯•æœåŠ¡å™¨
curl http://localhost:8081/api/categories
```

## ğŸ” æ£€æŸ¥è§†é¢‘æ–‡ä»¶ä½ç½®

```bash
# æ£€æŸ¥è§†é¢‘æ–‡ä»¶åœ¨å“ªé‡Œ
sudo find /root -name "*.mp4" -o -name "*.mov" 2>/dev/null | head -5
sudo find /home -name "*.mp4" -o -name "*.mov" 2>/dev/null | head -5

# æ£€æŸ¥è§†é¢‘ç›®å½•
sudo ls -la /root/videos/
sudo ls -la /root/videos/åŸåˆ›è§†é¢‘/
```

## âœ… éªŒè¯æœåŠ¡å™¨

```bash
# åœ¨æœåŠ¡å™¨ä¸Šæµ‹è¯•
curl http://localhost:8081/api/categories
curl http://localhost:8081/api/list/åŸåˆ›è§†é¢‘

# åœ¨æœ¬åœ° Mac æµ‹è¯•
curl http://39.107.137.136:8081/api/categories
```


