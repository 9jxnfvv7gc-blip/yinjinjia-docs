# éªŒè¯é…ç½®å’Œæµ‹è¯•æœåŠ¡å™¨

## âœ… å½“å‰çŠ¶æ€

- âœ… ç›®å½•å·²åˆ›å»ºï¼š`/root/video_server/` å’Œ `/root/videos/`
- âœ… `video_server.py` æ–‡ä»¶å·²å­˜åœ¨ï¼ˆ41030å­—èŠ‚ï¼‰
- â³ éœ€è¦éªŒè¯é…ç½®å’Œæµ‹è¯•æœåŠ¡å™¨

---

## ğŸ” æ­¥éª¤1ï¼šæ£€æŸ¥æœåŠ¡å™¨é…ç½®

åœ¨Workbenchç»ˆç«¯æ‰§è¡Œï¼š

```bash
# æ£€æŸ¥ VIDEO_ROOT é…ç½®
grep "VIDEO_ROOT" /root/video_server/video_server.py
```

**åº”è¯¥æ˜¾ç¤º**ï¼š`VIDEO_ROOT = "/root/videos"`

**å¦‚æœä¸æ˜¯**ï¼Œéœ€è¦ä¿®æ”¹ï¼š

```bash
cd /root/video_server
sed -i 's|VIDEO_ROOT = "/Volumes/Expansion"|VIDEO_ROOT = "/root/videos"|g' video_server.py
grep "VIDEO_ROOT" video_server.py
```

---

## ğŸ” æ­¥éª¤2ï¼šæ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦æ­£åœ¨è¿è¡Œ

åœ¨Workbenchç»ˆç«¯æ‰§è¡Œï¼š

```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
systemctl status video-server

# æ£€æŸ¥8081ç«¯å£æ˜¯å¦åœ¨ç›‘å¬
netstat -tlnp | grep 8081
```

**åº”è¯¥çœ‹åˆ°**ï¼š
- æœåŠ¡çŠ¶æ€ï¼š`active (running)`
- ç«¯å£ç›‘å¬ï¼š`0.0.0.0:8081` æˆ– `:::8081`

---

## ğŸ§ª æ­¥éª¤3ï¼šæµ‹è¯•æœåŠ¡å™¨API

åœ¨Workbenchç»ˆç«¯æ‰§è¡Œï¼š

```bash
# æµ‹è¯•è§†é¢‘åˆ—è¡¨API
curl http://localhost:8081/api/list/åŸåˆ›è§†é¢‘

# æµ‹è¯•æ­Œæ›²åˆ—è¡¨API
curl http://localhost:8081/api/list/åŸåˆ›æ­Œæ›²

# æµ‹è¯•æœåŠ¡å™¨çŠ¶æ€
curl http://localhost:8081
```

**åº”è¯¥è¿”å›**ï¼š
- åˆ—è¡¨APIï¼š`[]`ï¼ˆç©ºæ•°ç»„ï¼Œå› ä¸ºæ²¡æœ‰å†…å®¹ï¼‰
- çŠ¶æ€é¡µé¢ï¼šHTMLå†…å®¹

---

## ğŸ”§ æ­¥éª¤4ï¼šå¦‚æœé…ç½®ä¸æ­£ç¡®ï¼Œä¿®æ”¹å¹¶é‡å¯æœåŠ¡

å¦‚æœ `VIDEO_ROOT` ä¸æ˜¯ `/root/videos`ï¼Œéœ€è¦ä¿®æ”¹å¹¶é‡å¯ï¼š

```bash
# ä¿®æ”¹é…ç½®
cd /root/video_server
sed -i 's|VIDEO_ROOT = "/Volumes/Expansion"|VIDEO_ROOT = "/root/videos"|g' video_server.py

# éªŒè¯ä¿®æ”¹
grep "VIDEO_ROOT" video_server.py

# é‡å¯æœåŠ¡
systemctl restart video-server

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
systemctl status video-server
```

---

## ğŸ“‹ å®Œæ•´æ“ä½œæµç¨‹

### åœ¨Workbenchç»ˆç«¯æ‰§è¡Œï¼š

```bash
# 1. æ£€æŸ¥é…ç½®
grep "VIDEO_ROOT" /root/video_server/video_server.py

# 2. å¦‚æœé…ç½®ä¸æ­£ç¡®ï¼Œä¿®æ”¹
cd /root/video_server
sed -i 's|VIDEO_ROOT = "/Volumes/Expansion"|VIDEO_ROOT = "/root/videos"|g' video_server.py
grep "VIDEO_ROOT" video_server.py

# 3. æ£€æŸ¥æœåŠ¡çŠ¶æ€
systemctl status video-server

# 4. å¦‚æœä¿®æ”¹äº†é…ç½®ï¼Œé‡å¯æœåŠ¡
systemctl restart video-server

# 5. æµ‹è¯•API
curl http://localhost:8081/api/list/åŸåˆ›è§†é¢‘
```

---

## ğŸ¯ ç°åœ¨å¯ä»¥æ‰§è¡Œ

1. **æ£€æŸ¥é…ç½®**ï¼š`grep "VIDEO_ROOT" /root/video_server/video_server.py`
2. **å¦‚æœé…ç½®ä¸æ­£ç¡®ï¼Œä¿®æ”¹å¹¶é‡å¯æœåŠ¡**
3. **æµ‹è¯•æœåŠ¡å™¨API**

---

**å…ˆæ‰§è¡Œæ£€æŸ¥é…ç½®çš„å‘½ä»¤ï¼Œå‘Šè¯‰æˆ‘ç»“æœï¼** ğŸ”

