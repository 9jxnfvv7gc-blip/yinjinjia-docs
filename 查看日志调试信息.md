# 查看日志调试信息

## ✅ 当前状态

- ✅ VIDEO_ROOT已修复为 `/root/videos`
- ✅ 服务器已启动（active (running)）
- ❌ API仍然返回空数组 `[]`

---

## 🔍 查看调试信息

### 步骤1：查看实时日志

在Workbench终端执行：

```bash
# 查看实时日志
journalctl -u video-server -f
```

然后**在另一个终端**（或新的Workbench终端窗口）访问API：

```bash
curl http://localhost:8081/api/list/原创视频
```

**应该看到调试信息**：
- `API列表请求: category=原创视频, category_path=/root/videos/原创视频`
- `VIDEO_ROOT: /root/videos`
- `路径存在: True` 或 `路径存在: False`
- `目录存在，开始扫描文件...`（如果路径存在）
- `文件: 1.mp4, 扩展名: .mp4, 在列表中: True`
- `找到 X 个文件`

---

### 步骤2：查看最近的日志

在Workbench终端执行：

```bash
# 查看最近的日志（包含调试信息）
journalctl -u video-server -n 100 --no-pager | grep -A 10 "API列表请求"
```

---

### 步骤3：手动测试API并查看日志

在Workbench终端执行：

```bash
# 先查看日志（实时）
journalctl -u video-server -f
```

然后**在另一个终端**执行：

```bash
curl http://localhost:8081/api/list/原创视频
```

---

## 🔧 可能的问题

### 问题1：路径不存在

**检查**：日志中是否显示 `路径存在: False`

**解决方案**：检查 `/root/videos/原创视频` 目录是否存在

---

### 问题2：文件扩展名不匹配

**检查**：日志中是否显示 `在列表中: False`

**解决方案**：检查文件扩展名是否在支持列表中

---

### 问题3：文件扫描问题

**检查**：日志中是否显示 `找到 0 个文件`

**解决方案**：检查文件是否真的存在

---

## 🎯 现在可以执行

1. **查看实时日志**（`journalctl -u video-server -f`）
2. **在另一个终端访问API**（`curl http://localhost:8081/api/list/原创视频`）
3. **查看日志中的调试信息**
4. **告诉我日志中显示了什么**

---

**先查看日志，告诉我调试信息！** 🔍

