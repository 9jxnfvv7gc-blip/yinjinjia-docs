# 📱 iOS应用测试指南

## 🚀 启动iOS应用

### 步骤1：检查设备

```bash
cd /Volumes/Expansion/FlutterProjects/桌面影音播放器_安装包_20251121_165905
flutter devices
```

应该看到：
```
iPhone 16e (mobile) • FB8D1985-A8B3-48B3-BCD7-62E59C762C59 • ios
```

---

### 步骤2：启动应用

```bash
flutter run -d ios
```

**等待编译完成**（可能需要1-3分钟）

---

### 步骤3：确认应用启动

- ✅ Simulator窗口应该打开
- ✅ 应用应该自动启动
- ✅ 看到应用界面（标题："我的原创内容"）

---

## 🧪 测试功能清单

### 1. 界面显示测试 ✅

**检查项**：
- [ ] 应用正常启动
- [ ] 标题栏显示"我的原创内容"
- [ ] 能看到统计卡片（"原创视频"和"原创歌曲"）
- [ ] 能看到上传按钮（绿色的"上传新内容"）
- [ ] 界面布局正常

---

### 2. 统计卡片测试 ✅

**测试"原创视频"卡片**：
- [ ] 点击卡片能展开/折叠
- [ ] 展开后显示所有视频
- [ ] 标题变为"全部视频 (数量)"
- [ ] 图标变为打开的文件夹（📂）
- [ ] 显示"收起"按钮

**测试"原创歌曲"卡片**：
- [ ] 点击卡片能展开/折叠
- [ ] 展开后显示所有歌曲
- [ ] 标题变为"全部歌曲 (数量)"
- [ ] 图标变为打开的文件夹（📂）
- [ ] 显示"收起"按钮

---

### 3. 上传功能测试 ✅

**测试上传视频**：
1. 点击绿色的"上传新内容"按钮
2. 选择"上传视频"
3. 文件选择器应该打开
4. 选择一个视频文件
5. 等待上传完成
6. 应该显示"上传成功！"提示
7. 列表应该自动刷新，显示新上传的视频

**测试上传歌曲**：
1. 点击绿色的"上传新内容"按钮
2. 选择"上传音乐"
3. 文件选择器应该打开
4. 选择一个MP3文件
5. 等待上传完成
6. 应该显示"上传成功！"提示
7. 列表应该自动刷新，显示新上传的歌曲

**注意**：
- iOS Simulator可能没有媒体文件
- 如果文件选择器显示"没有视频/音乐"，这是正常的
- 可以尝试从"文件"应用选择，或使用真实设备测试

---

### 4. 删除功能测试 ✅

**测试删除视频**：
1. 找到要删除的视频
2. **长按**视频卡片（按住不放1-2秒）
3. 应该弹出底部菜单
4. 菜单中应该显示：
   - 📤 分享链接
   - 🔗 复制链接
   - 🗑️ 删除（红色）
5. 点击"删除"
6. 应该弹出确认对话框
7. 点击"删除"确认
8. 应该显示"删除成功！"提示
9. 列表应该自动刷新，视频消失

**测试删除歌曲**：
- 同样的步骤，长按歌曲卡片

---

### 5. 播放功能测试 ✅

**测试播放视频**：
1. 点击视频卡片（不是长按）
2. 应该打开视频播放页面
3. 视频应该能正常播放
4. 播放控制应该正常

**测试播放歌曲**：
1. 点击歌曲卡片（不是长按）
2. 应该打开音乐播放页面
3. 音乐应该能正常播放
4. 播放控制应该正常

---

### 6. 分享功能测试 ✅

**测试分享链接**：
1. 长按视频或歌曲卡片
2. 选择"分享链接"
3. 应该弹出iOS分享菜单
4. 可以选择分享到其他应用

**测试复制链接**：
1. 长按视频或歌曲卡片
2. 选择"复制链接"
3. 应该显示"链接已复制到剪贴板"提示
4. 可以在其他应用中粘贴链接

---

### 7. 文件夹功能测试 ✅

**测试展开/折叠**：
1. 点击"原创视频"卡片
2. 应该展开显示所有视频
3. 再次点击应该折叠回最新5个
4. 点击"原创歌曲"卡片同样功能

**测试"查看全部"按钮**：
1. 如果视频/歌曲超过5个
2. 应该显示"查看全部"按钮
3. 点击按钮应该展开显示全部

---

## ⚠️ 常见问题

### 问题1：应用无法启动

**解决方法**：
```bash
# 清理并重新运行
flutter clean
flutter pub get
flutter run -d ios
```

---

### 问题2：文件选择器显示"没有视频/音乐"

**原因**：iOS Simulator默认没有媒体文件

**解决方法**：
1. 在Simulator中打开"文件"应用
2. 从"文件"应用选择文件
3. 或使用真实iPhone设备测试

---

### 问题3：长按没有反应

**解决方法**：
1. 确保是**长按**（按住不放1-2秒）
2. 不是点击，是长按
3. 等待1-2秒，菜单应该出现

---

### 问题4：上传失败

**检查项**：
1. Python服务器是否在运行？
2. 服务器地址是否正确？（`http://localhost:8081`）
3. 网络连接是否正常？

---

## 📋 测试报告模板

### 测试日期：___________

### 设备信息：
- Simulator型号：___________
- iOS版本：___________

### 测试结果：

#### 界面显示
- [ ] 通过
- [ ] 失败（说明：___________）

#### 统计卡片
- [ ] 通过
- [ ] 失败（说明：___________）

#### 上传功能
- [ ] 通过
- [ ] 失败（说明：___________）

#### 删除功能
- [ ] 通过
- [ ] 失败（说明：___________）

#### 播放功能
- [ ] 通过
- [ ] 失败（说明：___________）

#### 分享功能
- [ ] 通过
- [ ] 失败（说明：___________）

#### 文件夹功能
- [ ] 通过
- [ ] 失败（说明：___________）

### 发现的问题：
1. ___________
2. ___________

---

## 🎯 快速测试步骤

### 1. 启动应用
```bash
cd /Volumes/Expansion/FlutterProjects/桌面影音播放器_安装包_20251121_165905
flutter run -d ios
```

### 2. 等待应用启动

### 3. 测试核心功能
- ✅ 点击统计卡片（展开/折叠）
- ✅ 长按内容卡片（删除菜单）
- ✅ 点击内容卡片（播放）
- ✅ 点击上传按钮（上传功能）

---

## ❓ 如果遇到问题

告诉我：
1. ✅ 应用是否成功启动？
2. ✅ 哪个功能测试失败？
3. ✅ 有什么错误信息？

我会帮你解决！

